{"version":3,"sources":["Transaction.Line.Views.Cell.Navigable.View.ts"],"names":[],"mappings":"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","file":"Transaction.Line.Views.Cell.Navigable.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Transaction.Line.Views.Cell.Navigable.View\"/>\n\nimport * as transaction_line_views_cell_navigable_tpl from 'transaction_line_views_cell_navigable.tpl';\n\nimport TransactionLineViewsOptionsSelectedView = require('./Transaction.Line.Views.Options.Selected.View');\nimport ProductLineStockView = require('../../ProductLine/JavaScript/ProductLine.Stock.View');\nimport TransactionLineViewsPriceView = require('./Transaction.Line.Views.Price.View');\n\nimport ProductLineSkuView = require('../../ProductLine/JavaScript/ProductLine.Sku.View');\nimport ProductLineStockDescriptionView = require('../../ProductLine/JavaScript/ProductLine.StockDescription.View');\n\nimport TransactionLineViewsTax = require('./Transaction.Line.Views.Tax');\n\nimport BackboneView = require('../../BackboneExtras/JavaScript/Backbone.View');\n\nexport type TransactionLineViewsCellNavigableView = any;\n\nexport const TransactionLineViewsCellNavigableView: any = BackboneView.extend({\n    template: transaction_line_views_cell_navigable_tpl,\n\n    initialize: function(options) {\n        this.options = options;\n        this.application = options.application;\n        this.model = options.model;\n    },\n\n    childViews: {\n        'Item.Options': function() {\n            return new TransactionLineViewsOptionsSelectedView({\n                model: this.model\n            });\n        },\n        'ItemViews.Stock.View': function() {\n            return new ProductLineStockView({\n                model: this.model.get('item')\n            });\n        },\n        'Item.Price': function() {\n            return new TransactionLineViewsPriceView({\n                model: this.model,\n                ignorePriceVisibility: !!this.options.ignorePriceVisibility\n            });\n        },\n        'Item.Sku': function() {\n            return new ProductLineSkuView({\n                model: this.model\n            });\n        },\n        'Item.Tax.Info': function() {\n            if (this.options.showTaxDetails) {\n                return new TransactionLineViewsTax({\n                    model: this.model\n                });\n            }\n        },\n        StockDescription: function() {\n            return new ProductLineStockDescriptionView({\n                model: this.model.get('item')\n            });\n        }\n    },\n\n    // @method getContext\n    // @return {Transaction.Line.Views.Navigable.View.Context}\n    getContext: function() {\n        const item = this.model.get('item');\n        const line = this.model;\n        const price_container_object = this.model.getPrice();\n        const isPriceVisible = line.get('item') && line.get('item').get('ispricevisible') !== false;\n\n        // @class Transaction.Line.Views.Navigable.View.Context\n        return {\n            // @property {Transaction.Line.Model} model\n            model: this.model,\n            // @property {String} itemId\n            itemId: item.get('internalid'),\n            // @property {String} itemName\n            itemName: item.get('_name'),\n            // @property {String} cellClassName\n            cellClassName: this.options.cellClassName,\n            // @property {Boolean} isNavigable\n            isNavigable: !!this.options.navigable && !!item.get('_isPurchasable'),\n            // @property {String} rateFormatted\n            rateFormatted: line.get('rate_formatted'),\n            // @property {Boolean} showOptions\n            showOptions: !!(line.get('options') && line.get('options').length),\n            // @property {String} itemURLAttributes\n            itemURLAttributes: line.getFullLink({\n                quantity: null,\n                location: null,\n                fulfillmentChoice: null\n            }),\n            // @property {Number} quantity\n            quantity: line.get('quantity'),\n            // @property {Boolean} showDetail2Title\n            showDetail2Title: !!this.options.detail2Title,\n            // @property {String} detail2Title\n            detail2Title: this.options.detail2Title,\n            // @property {String} detail2\n            detail2: line.get(this.options.detail2),\n            // @property {Boolean} showBlockDetail2\n            showBlockDetail2: !!line.get(this.options.detail2) && isPriceVisible,\n            // @property {Boolean} showDetail3Title\n            showDetail3Title:\n                !!this.options.detail3Title && (isPriceVisible || !!this.options.isEstimateDone),\n            // @property {String} detail3Title\n            detail3Title: this.options.detail3Title,\n            // @property {String} detail3\n            detail3: price_container_object.total_formatted || line.get(this.options.detail3) || '',\n            // @property {Boolean} showComparePrice\n            showComparePrice: line.get('amount') > line.get('total') && isPriceVisible,\n            // @property {String} comparePriceFormatted\n            comparePriceFormatted: line.get('amount_formatted'),\n            // @property {ImageContainer} thumbnail\n            thumbnail: this.model.getThumbnail(),\n            // @property {Boolean} isFreeGift\n            isFreeGift: line.get('free_gift') === true\n        };\n    }\n});\n"]}