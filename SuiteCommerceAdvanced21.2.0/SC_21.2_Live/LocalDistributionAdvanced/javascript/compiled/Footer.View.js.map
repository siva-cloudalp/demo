{"version":3,"sources":["Footer.View.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;;;;;;;;;;;;;;;;IAmBF;QAAgC,8BAAuB;QAWnD,oBAAmB,OAA2C;YAA9D,YACI,iBAAO,SAoBV;YA/BS,cAAQ,GAAG,UAAU,CAAC;YAIzB,gBAAU,GAAG;gBAChB,kBAAkB,EAAE;oBAChB,OAAO,IAAI,qDAAwB,EAAE,CAAC;gBAC1C,CAAC;aACJ,CAAC;YAIE,KAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;YAEvC;;;;cAIE;YACF,KAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,kBAAkB,EAAE;gBAChD,IAAM,YAAY,GAAG,EAAE,CAAC;gBAExB,UAAU,CAAC;oBACP,IAAM,aAAa,GACf,MAAM,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE;wBAC5B,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY;wBACtC,YAAY;wBACZ,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;oBAC3C,MAAM,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;gBAC/D,CAAC,EAAE,EAAE,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;;QACP,CAAC;QAEM,+BAAU,GAAjB;YACI,IAAM,qBAAqB,GAAG,6BAAa,CAAC,GAAG,CAAC,wBAAwB,EAAE,EAAE,CAAC,CAAC;YAC9E,OAAO;gBACH,yBAAyB,EAAE,CAAC,CAAC,qBAAqB,CAAC,MAAM;gBACzD,qBAAqB,EAAE,qBAAqB;aAC/C,CAAC;QACN,CAAC;QACL,iBAAC;IAAD,CAzCA,AAyCC,CAzC+B,WAAI,GAyCnC;IAzCY,gCAAU","file":"Footer.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Footer.View\"/>\n// @Typescript-partial\n/*\n * It's partially migrated because configuration import is not right\n * */\n\nimport * as footer_tpl from 'footer.tpl';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\nimport { View } from '../../../Commons/Core/JavaScript/View';\nimport { GlobalViewsBackToTopView } from '../../../Commons/GlobalViews/JavaScript/GlobalViews.BackToTop.View';\nimport { Configuration } from '../../SCA/JavaScript/Configuration';\nimport { ApplicationOnline } from '../../SCA/JavaScript/ApplicationOnline';\n\ninterface FooterViewContext {\n    showFooterNavigationLinks: boolean;\n    footerNavigationLinks: string[];\n}\nexport class FooterView extends View<FooterViewContext> {\n    protected template = footer_tpl;\n\n    private application: ApplicationOnline;\n\n    public childViews = {\n        'Global.BackToTop': () => {\n            return new GlobalViewsBackToTopView();\n        }\n    };\n\n    public constructor(options: { application: ApplicationOnline }) {\n        super();\n        this.application = options.application;\n\n        /* after appended to DOM, we add the footer height as the content bottom padding,\n        so the footer doesn't go on top of the content wrap it in a setTimeout because\n        if not, calling height() can take >150 ms in slow devices - forces the browser\n        to re-compute the layout.\n        */\n        this.application.getLayout().on('afterAppendToDom', function(): void {\n            const headerMargin = 25;\n\n            setTimeout(function() {\n                const contentHeight: number =\n                    jQuery(window).innerHeight() -\n                    jQuery('#site-header')[0].offsetHeight -\n                    headerMargin -\n                    jQuery('#site-footer')[0].offsetHeight;\n                jQuery('#main-container').css('min-height', contentHeight);\n            }, 10);\n        });\n    }\n\n    public getContext(): FooterViewContext {\n        const footerNavigationLinks = Configuration.get('footer.navigationLinks', []);\n        return {\n            showFooterNavigationLinks: !!footerNavigationLinks.length,\n            footerNavigationLinks: footerNavigationLinks\n        };\n    }\n}\n"]}