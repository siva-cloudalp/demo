{"version":3,"sources":["CMSadapter.Impl.Core.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAUF;;;MAGE;IAEF,IAAM,WAAW,GAAG,UAAS,WAAW,EAAE,GAAG;QACzC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC,CAAC;IAEF,WAAW,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;IAEzC,WAAW,CAAC,SAAS,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC;IAEjD,WAAW,CAAC,SAAS,CAAC,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC;IAEpD,WAAW,CAAC,SAAS,CAAC,aAAa,GAAG,SAAS,aAAa;QACxD,IAAM,GAAG,GAAS,QAAQ,CAAC,OAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,IAAM,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QAEnC,IAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,YAAY,IAAI,EAAE,CAAC;QAC5E,IAAM,OAAO,GAAG;YACZ,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,YAAY,CAAC,MAAM;YAC5B,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,WAAW;gBAC/C,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBAChD,CAAC,CAAC,EAAE;SACX,CAAC;QAEF,OAAO,OAAO,CAAC;IACnB,CAAC,CAAC;IAEF,OAAS,WAAW,CAAC","file":"CMSadapter.Impl.Core.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"CMSadapter.Impl.Core\"/>\n\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\n\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\n\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\n\n/*\n@module CMSadapter\n@class CMSadapter.Impl.Core the class that has the core integration using the CMS API.\n*/\n\nconst AdapterCore = function(application, CMS) {\n    this.CMS = CMS;\n    this.application = application;\n    this.listenForCMS();\n    this.init();\n};\n\nAdapterCore.prototype.init = jQuery.noop;\n\nAdapterCore.prototype.listenForCMS = jQuery.noop;\n\nAdapterCore.prototype.getSetupOptions = jQuery.noop;\n\nAdapterCore.prototype.getCmsContext = function getCmsContext() {\n    const url = (<any>Backbone.history).fragment.split('?')[0];\n    const path = Utils.correctURL(url);\n\n    const siteSettings = this.wizard.application.getConfig().siteSettings || {};\n    const context = {\n        path: path,\n        site_id: siteSettings.siteid,\n        page_type: this.application.getLayout().currentView\n            ? this.application.getLayout().currentView.el.id\n            : ''\n    };\n\n    return context;\n};\n\nexport = AdapterCore;\n"]}