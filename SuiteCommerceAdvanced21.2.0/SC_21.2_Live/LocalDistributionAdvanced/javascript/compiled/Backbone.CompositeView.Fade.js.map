{"version":3,"sources":["Backbone.CompositeView.Fade.ts"],"names":[],"mappings":"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","file":"Backbone.CompositeView.Fade.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Backbone.CompositeView.Fade\"/>\n/// <reference path=\"../../Utilities/JavaScript/UnderscoreExtended.d.ts\" />\n\nimport * as _ from 'underscore';\n\nimport * as jQuery from '../../Core/JavaScript/jQuery';\n\nconst BackboneCompositeViewFade: any = {\n    /**\n     * 3rd (final) step. Destroys the fadefrom view and fades in the new view\n     * @param  {Backbone.View} fadeFrom     view instance to fade from\n     * @param  {Backbone.View} fadeTo \t\tview instance to fade to\n     */\n    _destroyAndFadeIn: function(fadeFrom, fadeTo) {\n        fadeFrom && fadeFrom._destroy(true);\n        fadeFrom && fadeFrom.$el.addClass('hidden');\n\n        if (!fadeTo) {\n            return;\n        }\n        fadeTo.$el.removeClass('hidden');\n        this.trigger('fade.show');\n\n        const self = this;\n        window.requestAnimationFrame(function() {\n            fadeTo.$el\n                .addClass('in')\n                .emulateTransitionEnd(500)\n                .one(_.result(jQuery.support.transition, 'end') || {}, function() {\n                    self.trigger('fade.shown');\n                });\n        });\n    },\n\n    /**\n     * 2nd step. Fades out the view removing the class in\n     * @param  {Backbone.View} fadeFrom     view instance to fade from\n     * @param  {Backbone.View} fadeTo \t\tview instance to fade to\n     */\n    _fadeOutViewTo: function(fadeFrom, fadeTo) {\n        const self = this;\n        fadeFrom.$el\n            .removeClass('in')\n            .emulateTransitionEnd(500)\n            .one(_.result(jQuery.support.transition, 'end') || {}, function() {\n                self._destroyAndFadeIn(fadeFrom, fadeTo);\n            });\n    },\n\n    /**\n     * Fade one view to another using fade in classes. The view which\n     * is faded out is destroyed, and then the other view is rendered\n     * and faded in. The whole process takes 300ms so it's quite fast.\n     *\n     * @param  {string} fadeFromViewName name of fade out view\n     * @param  {string} fadeToViewName   name of fade in view\n     */\n    fadeViews: function(fadeFromViewName, fadeToViewName) {\n        const self = this;\n        const fadeFrom = this.getChildViewInstance(fadeFromViewName);\n        const fadeTo = this.renderChild(fadeToViewName);\n\n        if (!fadeFrom || !fadeTo) {\n            return;\n        }\n\n        fadeTo.$el.addClass('fade hidden').removeClass('in');\n        fadeFrom.$el.addClass('fade in');\n        window.requestAnimationFrame(function() {\n            self._fadeOutViewTo(fadeFrom, fadeTo);\n        });\n    },\n\n    /**\n     * Fades in a view\n     * @param  {string} childViewName the view which will fade in\n     */\n    fadeInView: function(childViewName) {\n        const fadeTo = this.renderChild(childViewName);\n\n        if (!fadeTo) {\n            return;\n        }\n\n        fadeTo.$el.addClass('fade hidden').removeClass('in');\n        const self = this;\n        window.requestAnimationFrame(function() {\n            self._destroyAndFadeIn(null, fadeTo);\n        });\n    },\n\n    /**\n     * Fades out a view\n     * @param  {string} childViewName the view which will fade out\n     */\n    fadeOutView: function(childViewName) {\n        const self = this;\n        const fadeTo = this.getChildViewInstance(childViewName);\n\n        if (!fadeTo) {\n            return;\n        }\n\n        fadeTo.$el.addClass('fade in').removeClass('hidden');\n        window.requestAnimationFrame(function() {\n            self._fadeOutViewTo(fadeTo, null);\n        });\n    },\n\n    add: function(view) {\n        _.extend(view, this);\n    }\n};\n\nexport = BackboneCompositeViewFade;\n"]}