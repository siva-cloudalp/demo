{"version":3,"sources":["SC.Shopping.Configuration.ts"],"names":[],"mappings":"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","file":"SC.Shopping.Configuration.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"SC.Shopping.Configuration\"/>\n\n// @module ShoppingApplication\n// @class SCA.Shopping.Configuration\n// This is the Shopping Application configuration file.\n// From here you can configure high level values like\n// the logo image, templates to use in common places,\n// facets, sort and display options of the search result places, etc.\n\nimport * as _ from 'underscore';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\nimport { Configuration as BaseConfiguration } from '../../SCA/JavaScript/Configuration';\n\nimport Session = require('../../../Commons/Session/JavaScript/Session');\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\n\nconst Configuration = {\n    // depending on the application we are configuring, used by the NavigationHelper.js\n    currentTouchpoint: 'home',\n\n    modulesConfig: {\n        ProductDetails: { startRouter: true },\n        Cart: { startRouter: true, saveForLater: true }\n    },\n\n    // @property {loginToSeePricesConfiguration} loginToSeePrices\n    // @class loginToSeePricesConfiguration\n    loginToSeePrices: {\n        // @property {Array<String>} hiddenFacetNames That are the names\n        // we are taking into consideration when hide any facet\n        hiddenFacetNames: ['onlinecustomerprice']\n    },\n\n    colors: BaseConfiguration.get('colors'),\n\n    // @property {String} searchTitlePrefix Title prefix for the facet browse view.\n    searchTitlePrefix: Utils.translate(''),\n\n    // @property {String} searchTitleSuffix Title suffix for the facet browse view.\n    searchTitleSuffix: Utils.translate('')\n};\n\n/**\n * SEO related configuration\n * Search Engine Optimization\n */\nconst seo_title = function(layout) {\n    const title = layout.$('[itemprop=\"name\"]:eq(0)').text();\n    return title && title.length ? String(title).trim() : '';\n};\nconst seo_url = function() {\n    return (\n        window.location.protocol + '//' + window.location.hostname + '/' + Backbone.history.fragment\n    );\n};\nconst seo_domain = function() {\n    return Session.get('touchpoints.home');\n};\nconst seo_image = function(layout, number) {\n    const $image = layout.$('[data-type=\"social-image\"], [itemprop=\"image\"]');\n    const my_number = typeof number === 'undefined' ? 0 : number;\n    const resized_image = $image.get(my_number)\n        ? $image.get(my_number).src\n        : Utils.getThemeAbsoluteUrlOfNonManagedResources(\n              'img/no_image_available.jpeg',\n              BaseConfiguration.get.apply(Configuration, ['imageNotAvailable'])\n          );\n\n    const patt = new RegExp('https?://');\n    let image_url = encodeURI(resized_image);\n\n    if (!patt.exec(image_url)) {\n        image_url = window.location.origin + encodeURI(resized_image);\n    }\n\n    return image_url;\n};\nconst seo_site_name = function() {\n    return SC.ENVIRONMENT.siteSettings.displayname;\n};\nconst seo_description = function(layout) {\n    let social_description = layout\n        .$('[data-type=\"social-description\"], [itemprop=\"description\"]')\n        .first()\n        .text();\n    social_description = String(social_description).trim().replace(/\\s+/g, ' ');\n\n    return social_description && social_description.length ? social_description : '';\n};\nconst seo_twitter_description = function(layout) {\n    const description = seo_description(layout);\n\n    // Twitter cards requires a description less than 200 characters\n    return description && description.length ? description.substring(0, 200) : '';\n};\nconst seo_provider_name = function() {\n    return SC.ENVIRONMENT.siteSettings.displayname;\n};\nconst seo_price = function(layout) {\n    let price = layout.$('[itemprop=\"price\"]:eq(0)').text();\n    price = String(price).trim();\n\n    return price && price.length ? price : '';\n};\nconst seo_price_standard_amount = function(layout) {\n    const the_num = seo_price(layout);\n    return the_num && the_num.length ? the_num.replace(/^\\D+/g, '') : '';\n};\nconst seo_price_currency = function(layout) {\n    let price_currency = layout.$('[itemprop=\"priceCurrency\"]').attr('content');\n    price_currency = String(price_currency).trim();\n\n    return price_currency && price_currency.length ? price_currency : '';\n};\nconst seo_availability = function(layout) {\n    let $availability_href = layout.$('[itemprop=\"availability\"]');\n    let result = '';\n    let param = '';\n\n    $availability_href = String($availability_href.attr('href')).trim();\n\n    result = $availability_href.split('/');\n    param = result[result.length - 1];\n\n    return param && param.length ? param : '';\n};\nconst seo_rating = function(layout) {\n    const rating = layout.$('[itemprop=\"ratingValue\"]:eq(0)').attr('content');\n    return rating && rating.length ? rating : '';\n};\nconst seo_rating_scale = function(layout) {\n    const rating_scale = layout.$('[itemprop=\"bestRating\"]:eq(0)').attr('content');\n    return rating_scale && rating_scale.length ? rating_scale : '';\n};\nconst seo_rating_count = function(layout) {\n    const rating_count = layout.$('[itemprop=\"reviewCount\"]:eq(0)').text();\n    return rating_count && rating_count.length ? String(rating_count).trim() : '';\n};\nconst seo_twitter_site = function() {\n    return '';\n};\nconst seo_twitter_creator = function() {\n    return '';\n};\nconst seo_twitter_label_one = function() {\n    return 'PRICE';\n};\nconst seo_twitter_price = function(layout) {\n    return String(seo_price(layout).trim() + ' ' + seo_price_currency(layout));\n};\nconst seo_twitter_label_two = function() {\n    return 'AVAILABILITY';\n};\nconst seo_twitter_image_cero = function(layout) {\n    return seo_image(layout, 0);\n};\nconst seo_twitter_image_one = function(layout) {\n    return seo_image(layout, 1);\n};\nconst seo_twitter_image_two = function(layout) {\n    return seo_image(layout, 2);\n};\nconst seo_twitter_image_three = function(layout) {\n    return seo_image(layout, 3);\n};\nconst seo_google_plus_authorship_author = function() {\n    // Author for individual contents\n    // return 'https://plus.google.com/+YourAuthorName';\n};\nconst seo_google_plus_authorship_publisher = function() {\n    // Publisher for brand contents\n    // return 'https://plus.google.com/+YourPublisherName';\n};\nconst fb_app_id = function() {\n    return SC.CONFIGURATION.facebook.appId;\n};\n\n_.extend(Configuration, {\n    // @property {Object} linkTagGooglePlusAuthorship\n    linkTagGooglePlusAuthorship: {\n        author: seo_google_plus_authorship_author,\n        publisher: seo_google_plus_authorship_publisher\n    },\n\n    // @property {Object} metaTagMappingOg [Open Graph](http://ogp.me/)\n    metaTagMappingOg: {\n        'og:title': seo_title,\n\n        'og:type': function() {\n            return 'product';\n        },\n\n        'og:url': seo_url,\n\n        'og:image': seo_image,\n\n        'og:site_name': seo_site_name,\n\n        'og:description': seo_description,\n\n        'og:provider_name': seo_provider_name,\n\n        'og:price:standard_amount': seo_price_standard_amount,\n\n        'og:price:currency': seo_price_currency,\n\n        'og:availability': seo_availability,\n\n        'og:rating': seo_rating,\n\n        'og:rating_scale': seo_rating_scale,\n\n        'og:rating_count': seo_rating_count,\n\n        'fb:app_id': fb_app_id\n    },\n\n    // @property {Object} metaTagMappingTwitterProductCard [Twitter Product Card](https://dev.twitter.com/docs/cards/types/product-card)\n    metaTagMappingTwitterProductCard: {\n        'twitter:card': function() {\n            return 'product';\n        },\n\n        'twitter:site': seo_twitter_site,\n\n        'twitter:creator': seo_twitter_creator,\n\n        'twitter:title': seo_title,\n\n        'twitter:description': seo_twitter_description,\n\n        'twitter:image:src': seo_image,\n\n        'twitter:domain': seo_domain,\n\n        'twitter:data1': seo_twitter_price,\n\n        'twitter:label1': seo_twitter_label_one,\n\n        'twitter:data2': seo_availability,\n\n        'twitter:label2': seo_twitter_label_two\n    },\n\n    // @property {Object} metaTagMappingTwitterGalleryCard [Twitter Gallery Card](https://dev.twitter.com/docs/cards/types/gallery-card)\n    metaTagMappingTwitterGalleryCard: {\n        'twitter:card': function() {\n            return 'gallery';\n        },\n\n        'twitter:title': seo_title,\n\n        'twitter:description': seo_twitter_description,\n\n        'twitter:image0:src': seo_twitter_image_cero,\n\n        'twitter:image1:src': seo_twitter_image_one,\n\n        'twitter:image2:src': seo_twitter_image_two,\n\n        'twitter:image3:src': seo_twitter_image_three\n    }\n});\n\n// Deep extend\njQuery.extend(true, BaseConfiguration, Configuration);\nconst module: any = BaseConfiguration;\nexport = module;\n"]}