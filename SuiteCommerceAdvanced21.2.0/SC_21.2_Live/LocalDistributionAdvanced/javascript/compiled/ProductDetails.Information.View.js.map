{"version":3,"sources":["ProductDetails.Information.View.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAYF,gEAAgE;IAChE,IAAM,6BAA6B,GAAQ,YAAY,CAAC,MAAM,CAAC;QAC3D,QAAQ,EAAE,+BAA+B;QAEzC,MAAM,EAAE;YACJ,iCAAiC,EAAE,UAAU;SAChD;QACD,qFAAqF;QACrF,yEAAyE;QACzE,iBAAiB;QACjB,UAAU,EAAE,SAAS,UAAU;YAC3B,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;YACzD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;YACpC,QAAQ,CAAC,EAAE,CAAC,YAAY,EAAE,UAAS,KAAK;gBACpC,CAAC,CAAC,mCAAmC,CAAC,CAAC,KAAK,EAAE,CAAC;gBAC/C,OAAO,IAAI,CAAC;YAChB,CAAC,CAAC,CAAC;QACP,CAAC;QAED,MAAM,EAAE;YACJ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAEzD,IAAI,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAED,OAAO,EAAE;YACL,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC3B,CAAC;QAED,6BAA6B;QAC7B,mEAAmE;QACnE,6GAA6G;QAC7G,sDAAsD;QACtD,4DAA4D;QAC5D,kBAAkB,EAAE;YAChB,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAM,OAAO,GAAG,EAAE,CAAC;YAEnB,CAAC,CAAC,IAAI,CAAC,6BAAa,CAAC,GAAG,CAAC,2BAA2B,EAAE,EAAE,CAAC,EAAE,UAAS,gBAAqB;gBACrF,IAAI,OAAO,GAAG,EAAE,CAAC;gBAEjB,IAAI,gBAAgB,CAAC,cAAc,EAAE;oBACjC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;iBACzE;gBAED,IAAI,OAAO,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;oBAC5B,kDAAkD;oBAClD,OAAO,CAAC,IAAI,CAAC;wBACT,0BAA0B;wBAC1B,IAAI,EAAE,gBAAgB,CAAC,IAAI;wBAC3B,wEAAwE;wBACxE,OAAO,EAAE,OAAO;wBAChB,8BAA8B;wBAC9B,QAAQ,EAAE,gBAAgB,CAAC,QAAQ;qBACtC,CAAC,CAAC;oBACH,yCAAyC;iBAC5C;YACL,CAAC,CAAC,CAAC;YAEH,OAAO,OAAO,CAAC;QACnB,CAAC;QAED,oHAAoH;QACpH,iBAAiB;QACjB,QAAQ,EAAE;YACN,IAAI,CAAC,CAAC,CAAC,mCAAmC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACpE,CAAC;QAED,UAAU,EAAE;YACR,OAAO;gBACH,sCAAsC;gBACtC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC;gBACxC,iCAAiC;gBACjC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC;gBACnC,sEAAsE;gBACtE,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,yCAAyC;gBACzC,kBAAkB,EAAE,CAAC,EAAE,CAAC,eAAe,EAAE;aAC5C,CAAC;QACN,CAAC;KACJ,CAAC,CAAC;IAEH,OAAS,6BAA6B,CAAC;;AAEvC,+DAA+D;AAC/D,uEAAuE;AACvE,kCAAkC;AAClC,EAAE","file":"ProductDetails.Information.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"ProductDetails.Information.View\"/>\n\nimport * as _ from 'underscore';\nimport * as product_details_information_tpl from 'product_details_information.tpl';\nimport { Configuration } from '../../../Commons/Utilities/JavaScript/Configuration';\n\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\nimport $ = require('../../../Commons/Core/JavaScript/jQuery');\n\n// @class ProductDetails.Information.View @extends Backbone.View\nconst ProductDetailsInformationView: any = BackboneView.extend({\n    template: product_details_information_tpl,\n\n    events: {\n        'click [data-action=\"show-more\"]': 'showMore'\n    },\n    // @method initialize Override default method to allow passing pre-calculated details\n    // @param {ProductDetails.Information.View.InitializationOptions} options\n    // @return {Void}\n    initialize: function initialize() {\n        BackboneView.prototype.initialize.apply(this, arguments);\n        this.details = this.options.details;\n        Backbone.on('resizeView', function(event) {\n            $('[data-action=\"sc-pusher-dismiss\"]').click();\n            return true;\n        });\n    },\n\n    render: function() {\n        this.details = this.details || this.computeDetailsArea();\n\n        this._render();\n    },\n\n    destroy: function() {\n        this._destroy();\n        this.off('resizeView');\n    },\n\n    // @method computeDetailsArea\n    // Process what you have configured in itemDetails as item details.\n    // In the PDP extra information can be shown based on the itemDetails property in the Shopping.Configuration.\n    // These are extra field extracted from the item model\n    // @return {Array<ProductDetails.Information.DataContainer>}\n    computeDetailsArea: function() {\n        const self = this;\n        const details = [];\n\n        _.each(Configuration.get('productDetailsInformation', []), function(item_information: any) {\n            let content = '';\n\n            if (item_information.contentFromKey) {\n                content = self.model.get('item').get(item_information.contentFromKey);\n            }\n\n            if (content && $.trim(content)) {\n                // @class ProductDetails.Information.DataContainer\n                details.push({\n                    // @property {String} name\n                    name: item_information.name,\n                    // @property {String} content Any string and event valid HTML is allowed\n                    content: content,\n                    // @property {String} itemprop\n                    itemprop: item_information.itemprop\n                });\n                // @class ProductDetails.Information.View\n            }\n        });\n\n        return details;\n    },\n\n    // @method showMore Toggle the content of an options, and change the label Show Less and Show More by adding a class\n    // @return {Void}\n    showMore: function() {\n        this.$('[data-type=\"information-content\"]').toggleClass('show');\n    },\n\n    getContext: function() {\n        return {\n            // @property {Boolean} showInformation\n            showInformation: this.details.length > 0,\n            // @property {Boolean} showHeader\n            showHeader: this.details.length < 2,\n            // @property {Array<ProductDetails.Information.DataContainer>} details\n            details: this.details,\n            // @property {Boolean} isNotPageGenerator\n            isNotPageGenerator: !SC.isPageGenerator()\n        };\n    }\n});\n\nexport = ProductDetailsInformationView;\n\n// @class ProductDetails.Information.View.InitializationOptions\n// @property {Array<ProductDetails.Information.DataContainer>?} details\n// @property {Product.Model} model\n//\n"]}