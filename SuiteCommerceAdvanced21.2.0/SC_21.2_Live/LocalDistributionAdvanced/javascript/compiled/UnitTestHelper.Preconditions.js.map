{"version":3,"sources":["UnitTestHelper.Preconditions.ts"],"names":[],"mappings":"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","file":"UnitTestHelper.Preconditions.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"UnitTestHelper.Preconditions\"/>\n/* jshint -W020 */\n\nimport * as _ from 'underscore';\n\nimport * as Utils from '../../Utilities/JavaScript/Utils';\n\nfunction deepExtend(obj) {\n    const isNullItemFn = function(item) {\n        return _.isNull(item);\n    };\n    const parentRE = /#{\\s*?_\\s*?}/;\n    const { slice } = Array.prototype;\n\n    _.each(slice.call(arguments, 1), function(source: any) {\n        for (const prop in source) {\n            if (\n                _.isUndefined(obj[prop]) ||\n                _.isFunction(obj[prop]) ||\n                _.isNull(source[prop]) ||\n                _.isDate(source[prop])\n            ) {\n                obj[prop] = source[prop];\n            } else if (_.isString(source[prop]) && parentRE.test(source[prop])) {\n                if (_.isString(obj[prop])) {\n                    obj[prop] = source[prop].replace(parentRE, obj[prop]);\n                }\n            } else if (_.isArray(obj[prop]) || _.isArray(source[prop])) {\n                if (!_.isArray(obj[prop]) || !_.isArray(source[prop])) {\n                    throw new Error('Trying to combine an array with a non-array (' + prop + ')');\n                } else {\n                    obj[prop] = _.reject(\n                        Utils.deepExtend(_.clone(obj[prop]), source[prop]),\n                        isNullItemFn\n                    );\n                }\n            } else if (_.isObject(obj[prop]) || _.isObject(source[prop])) {\n                if (!_.isObject(obj[prop]) || !_.isObject(source[prop])) {\n                    throw new Error('Trying to combine an object with a non-object (' + prop + ')');\n                } else {\n                    obj[prop] = Utils.deepExtend(_.clone(obj[prop]), source[prop]);\n                }\n            } else {\n                obj[prop] = source[prop];\n            }\n        }\n    });\n    return obj;\n}\n\n_.mixin({ deepExtend: deepExtend });\n\nexport = {\n    setDefaultEnvironment: function() {\n        (<any>window).SC = this.deepExtend((<any>window).SC || {}, {\n            ENVIRONMENT: {\n                siteSettings: {\n                    registration: { displaycompanyfield: 'F' },\n                    countries: { UY: { isziprequired: 'T' } }\n                },\n                SENSORS_ENABLED: false\n            },\n            isPageGenerator: () => false\n        });\n    },\n\n    // similar to jQuery.extend() for recursively/deep extend. Adapted from https://gist.github.com/kurtmilam/1868955\n    deepExtend: deepExtend\n};\n"]}