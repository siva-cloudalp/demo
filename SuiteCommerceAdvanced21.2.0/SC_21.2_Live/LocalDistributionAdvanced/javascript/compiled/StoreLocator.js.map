{"version":3,"sources":["StoreLocator.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAgBF,IAAM,YAAY,GAAQ;QACtB,oBAAoB,EAAE,IAAI;QAC1B,qBAAqB;QACrB,8BAA8B;QAC9B,UAAU,EAAE,SAAS,UAAU,CAAC,WAAW;YACvC,IAAM,kBAAkB,GAAG;gBACvB,2BAA2B;gBAC3B,6BAA6B;gBAC7B,iCAAiC;aACpC,CAAC;YAEF,CAAC,CAAC,IAAI,CAAC,kBAAkB,EAAE,UAAS,QAAQ;gBACxC,IAAI,KAAK,CAAC,iBAAiB,CAAC,6BAAa,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE;oBACtD,KAAK,CAAC,iBAAiB,CACnB,6BAAa,EACb,QAAQ,EACR,KAAK,CAAC,mCAAmC,CACrC,KAAK,CAAC,iBAAiB,CAAC,6BAAa,EAAE,QAAQ,EAAE,EAAE,CAAC,CACvD,CACJ,CAAC;iBACL;YACL,CAAC,CAAC,CAAC;YAEH,IAAM,QAAQ,GAAG,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YAEtD,IAAU,sBAAuB,CAAC,SAAS,EAAE,IAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,KAAK,QAAQ,EAAE;gBACpF,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;oBAChB,QAAQ,CAAC,gBAAgB,CAAC;wBACtB,IAAI,EAAE,qBAAqB;wBAC3B,MAAM,EAAE,CAAC,QAAQ,EAAE,oBAAoB,EAAE,YAAY,EAAE,qBAAqB,CAAC;wBAC7E,IAAI,EAAE,uBAAuB;wBAC7B,eAAe,EAAE;4BACb,IAAI,EAAE,2BAA2B;4BACjC,WAAW,EAAE,iBAAiB;4BAC9B,SAAS,EAAE,KAAK,CAAC,wCAAwC,CACrD,wCAAwC,CAC3C;yBACJ;qBACJ,CAAC,CAAC;iBACN;qBAAM;oBACH,IAAM,aAAa,GAAG,IAAI,YAAY,EAAE,CAAC;oBAEzC,QAAQ,CAAC,gBAAgB,CAAC;wBACtB,IAAI,EAAE,kBAAkB;wBACxB,MAAM,EAAE,CAAC,QAAQ,CAAC;wBAClB,IAAI,EAAE,oBAAoB;wBAC1B,eAAe,EAAE;4BACb,IAAI,EAAE,wBAAwB;4BAC9B,WAAW,EAAE,aAAa,CAAC,aAAa,CAAC,KAAK,EAAE;4BAChD,SAAS,EAAE,KAAK,CAAC,wCAAwC,CACrD,sCAAsC,CACzC;yBACJ;qBACJ,CAAC,CAAC;oBAEH,QAAQ,CAAC,gBAAgB,CAAC;wBACtB,IAAI,EAAE,qBAAqB;wBAC3B,MAAM,EAAE,CAAC,YAAY,EAAE,qBAAqB,CAAC;wBAC7C,IAAI,EAAE,uBAAuB;wBAC7B,eAAe,EAAE;4BACb,IAAI,EAAE,4BAA4B;4BAClC,WAAW,EAAE,sBAAsB,CAAC,KAAK,EAAE;4BAC3C,SAAS,EAAE,KAAK,CAAC,wCAAwC,CACrD,2CAA2C,CAC9C;yBACJ;qBACJ,CAAC,CAAC;oBAEH,QAAQ,CAAC,gBAAgB,CAAC;wBACtB,IAAI,EAAE,qBAAqB;wBAC3B,MAAM,EAAE,CAAC,oBAAoB,CAAC;wBAC9B,IAAI,EAAE,uBAAuB;wBAC7B,eAAe,EAAE;4BACb,IAAI,EAAE,2BAA2B;4BACjC,WAAW,EAAE,aAAa,CAAC,aAAa,CAAC,KAAK,EAAE;4BAChD,SAAS,EAAE,KAAK,CAAC,wCAAwC,CACrD,8CAA8C,CACjD;yBACJ;qBACJ,CAAC,CAAC;iBACN;aACJ;QACL,CAAC;KACJ,CAAC;IAEF,OAAS,YAAY,CAAC","file":"StoreLocator.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"StoreLocator\"/>\n// @module StoreLocator\n\nimport * as _ from 'underscore';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport { Configuration } from '../../SCA/JavaScript/Configuration';\n\nimport ReferenceMap = require('../../StoreLocatorReferenceMapImplementation/JavaScript/ReferenceMap');\nimport ReferenceConfiguration = require('../../StoreLocatorReferenceMapImplementation/JavaScript/ReferenceMap.Configuration');\nimport StoreLocatorMainView = require('./StoreLocator.Main.View');\nimport StoreLocatorDetailsView = require('./StoreLocator.Details.View');\nimport StoreLocatorListAllView = require('./StoreLocator.List.All.View');\nimport StoreLocatorUpgradeView = require('./StoreLocator.Upgrade.View');\n\nconst StoreLocator: any = {\n    excludeFromMyAccount: true,\n    // @method mountToApp\n    // @param {Object} application\n    mountToApp: function mountToApp(application) {\n        const configurationIcons = [\n            'storeLocator.icons.stores',\n            'storeLocator.icons.position',\n            'storeLocator.icons.autocomplete'\n        ];\n\n        _.each(configurationIcons, function(property) {\n            if (Utils.getPathFromObject(Configuration, property, '')) {\n                Utils.setPathFromObject(\n                    Configuration,\n                    property,\n                    Utils.getAbsoluteUrlOfNonManagedResources(\n                        Utils.getPathFromObject(Configuration, property, '')\n                    )\n                );\n            }\n        });\n\n        const pageType = application.getComponent('PageType');\n\n        if ((<any>ReferenceConfiguration).isEnabled() && window.location.protocol === 'https:') {\n            if (Utils.oldIE(8)) {\n                pageType.registerPageType({\n                    name: 'StoreLocatorUpgrade',\n                    routes: ['stores', 'stores/details/:id', 'stores/all', 'stores/all?:options'],\n                    view: StoreLocatorUpgradeView,\n                    defaultTemplate: {\n                        name: 'store_locator_upgrade.tpl',\n                        displayName: 'Browser Upgrade',\n                        thumbnail: Utils.getThemeAbsoluteUrlOfNonManagedResources(\n                            '/path/to/store_locator_upgrade_tpl.png'\n                        )\n                    }\n                });\n            } else {\n                const reference_map = new ReferenceMap();\n\n                pageType.registerPageType({\n                    name: 'StoreLocatorMain',\n                    routes: ['stores'],\n                    view: StoreLocatorMainView,\n                    defaultTemplate: {\n                        name: 'store_locator_main.tpl',\n                        displayName: reference_map.configuration.title(),\n                        thumbnail: Utils.getThemeAbsoluteUrlOfNonManagedResources(\n                            'img/default-layout-store-locator.png'\n                        )\n                    }\n                });\n\n                pageType.registerPageType({\n                    name: 'StoreLocatorListAll',\n                    routes: ['stores/all', 'stores/all?:options'],\n                    view: StoreLocatorListAllView,\n                    defaultTemplate: {\n                        name: 'store_locator_list_all.tpl',\n                        displayName: ReferenceConfiguration.title(),\n                        thumbnail: Utils.getThemeAbsoluteUrlOfNonManagedResources(\n                            'img/default-layout-store-locator-list.png'\n                        )\n                    }\n                });\n\n                pageType.registerPageType({\n                    name: 'StoreLocatorDetails',\n                    routes: ['stores/details/:id'],\n                    view: StoreLocatorDetailsView,\n                    defaultTemplate: {\n                        name: 'store_locator_details.tpl',\n                        displayName: reference_map.configuration.title(),\n                        thumbnail: Utils.getThemeAbsoluteUrlOfNonManagedResources(\n                            'img/default-layout-store-locator-details.png'\n                        )\n                    }\n                });\n            }\n        }\n    }\n};\n\nexport = StoreLocator;\n"]}