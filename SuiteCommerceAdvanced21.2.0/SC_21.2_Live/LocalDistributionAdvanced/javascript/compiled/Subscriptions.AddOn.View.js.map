{"version":3,"sources":["Subscriptions.AddOn.View.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAaF,IAAM,sBAAsB,GAAQ,YAAY,CAAC,MAAM,CAAC;QACpD,QAAQ,EAAE,wBAAwB;QAElC,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC;QAE1C,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC;QAEhD,MAAM,EAAE;YACJ,2BAA2B,EAAE,SAAS;SACzC;QAED,UAAU,YAAC,OAAO;YACd,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;QAC7C,CAAC;QAED,OAAO,YAAC,CAAC;YACL,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,IAAM,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC5D,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC7C,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,gCAA8B,eAAe,SAAI,OAAS,EAAE;gBAClF,OAAO,EAAE,IAAI;aAChB,CAAC,CAAC;QACP,CAAC;QAED,UAAU,EAAE;YACR,cAAc,EAAE;gBACZ,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,EAAE;oBAChC,OAAO,IAAI,qDAAwB,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;iBAC9D;YACL,CAAC;YACD,aAAa,EAAE;gBACX,OAAO,IAAI,mDAAuB,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;YAChF,CAAC;SACJ;QAED,UAAU;YACN,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAEpC,OAAO;gBACH,KAAK,EAAE,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,WAAW,CAAC;gBAC9D,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE;gBAC/D,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE;gBACjC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC;gBACxC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;gBACtC,gBAAgB,EAAE,KAAK,CAAC,aAAa,CACjC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,0BAA0B,CAAC,CACzD;aACJ,CAAC;QACN,CAAC;KACJ,CAAC,CAAC;IAEH,OAAS,sBAAsB,CAAC","file":"Subscriptions.AddOn.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Subscriptions.AddOn.View\"/>\nimport * as subscriptions_addon_item from 'subscriptions_addon_item_cell.tpl';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport { SubscriptionsStatusView } from './Subscriptions.Status.View';\n\nimport * as Backbone from '../../../Commons/Utilities/JavaScript/backbone.custom';\nimport { SubscriptionsPricingView } from './Subscriptions.Pricing.View';\n\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\nimport UtilitiesResizeImage = require('../../../Commons/Utilities/JavaScript/Utilities.ResizeImage');\n\nconst SubscriptionsAddOnView: any = BackboneView.extend({\n    template: subscriptions_addon_item,\n\n    title: Utils.translate('My Subscriptions'),\n\n    page_header: Utils.translate('My Subscriptions'),\n\n    events: {\n        'click [data-action=\"add\"]': 'addLine'\n    },\n\n    initialize(options) {\n        this.subscription = options.subscription;\n    },\n\n    addLine(e) {\n        e.preventDefault();\n        const subscription_id = this.subscription.get('internalid');\n        const line_id = this.model.get('internalId');\n        Backbone.history.navigate(`subscription-addon-details/${subscription_id}/${line_id}`, {\n            trigger: true\n        });\n    },\n\n    childViews: {\n        'Pricing.View': function() {\n            if (this.model.hasPriceIntervals()) {\n                return new SubscriptionsPricingView({ model: this.model });\n            }\n        },\n        'Status.View': function() {\n            return new SubscriptionsStatusView({ status: this.model.getStatusLabel() });\n        }\n    },\n\n    getContext() {\n        const item = this.model.get('item');\n\n        return {\n            image: UtilitiesResizeImage(item.get('imageUrl'), 'thumbnail'),\n            title: item.get('storeDisplayName') || item.get('itemId') || '',\n            item_id: item.get('itemId') || '',\n            lineNumber: this.model.get('lineNumber'),\n            price: this.model.getDefaultOfferStr(),\n            briefDescription: Utils.parseRichText(\n                this.model.get('item').get('storedetailedDescription')\n            )\n        };\n    }\n});\n\nexport = SubscriptionsAddOnView;\n"]}