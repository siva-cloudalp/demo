{"version":3,"sources":["CMSadapter.Impl.PageTypes.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;;;IASF;QAKI,6BAAY,WAAW,EAAE,GAAG;YACxB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YAC/B,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;YAEf,IAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC;QAED,0CAAY,GAAZ;YAAA,iBAOC;YANG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,iBAAiB,EAAE,UAAC,OAAO,EAAE,IAAiB;gBACtD,IAAM,iBAAiB,GAAG,KAAI,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;gBACpE,IAAM,QAAQ,GAAG,iBAAiB,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC3D,QAAQ,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBACtC,OAAO,CAAC,OAAO,EAAE,CAAC;YACtB,CAAC,CAAC,CAAC;QACP,CAAC;QACL,0BAAC;IAAD,CApBA,AAoBC,IAAA;IApBY,kDAAmB","file":"CMSadapter.Impl.PageTypes.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"CMSadapter.Impl.PageTypes\"/>\n\ninterface CmsPageType {\n    name: string;\n    layout: string;\n}\n\nexport class CMSadapterPageTypes {\n    CMS: any;\n\n    application: any;\n\n    constructor(application, CMS) {\n        this.application = application;\n        this.CMS = CMS;\n\n        this.listenForCMS();\n    }\n\n    listenForCMS() {\n        this.CMS.on('pagetype:update', (promise, page: CmsPageType) => {\n            const pageTypeComponent = this.application.getComponent('PageType');\n            const pageType = pageTypeComponent._getPageType(page.name);\n            pageType.set('template', page.layout);\n            promise.resolve();\n        });\n    }\n}\n"]}