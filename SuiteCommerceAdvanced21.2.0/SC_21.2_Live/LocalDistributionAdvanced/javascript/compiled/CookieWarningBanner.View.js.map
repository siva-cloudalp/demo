{"version":3,"sources":["CookieWarningBanner.View.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAWF,wDAAwD;IACxD,IAAM,uBAAuB,GAAQ,YAAY,CAAC,MAAM,CAAC;QACrD,QAAQ,EAAE,8BAA8B;QAExC,MAAM,EAAE;YACJ,qCAAqC,EAAE,cAAc;SACxD;QAED,iBAAiB;QACjB,UAAU,EAAE,SAAS,UAAU;YAC3B,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QAC7D,CAAC;QAED,yDAAyD;QACzD,YAAY,EAAE,SAAS,YAAY;YAC/B,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC;QACjE,CAAC;QAED,6EAA6E;QAC7E,oBAAoB;QACpB,UAAU,EAAE,SAAS,UAAU;YAC3B,OAAO,CACH,6BAAa,CAAC,GAAG,CAAC,sCAAsC,CAAC,KAAK,GAAG;gBACjE,CAAC,CACG,6BAAa,CAAC,GAAG,CAAC,kCAAkC,EAAE,KAAK,CAAC;oBAC5D,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CACvC,CACJ,CAAC;QACN,CAAC;QAED,qBAAqB;QACrB,6CAA6C;QAC7C,UAAU,EAAE,SAAS,UAAU;YAC3B,0CAA0C;YAC1C,OAAO;gBACH,iCAAiC;gBACjC,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE;gBAC7B,mCAAmC;gBACnC,aAAa,EAAE,6BAAa,CAAC,GAAG,CAAC,6BAA6B,EAAE,EAAE,CAAC;gBACnE,+BAA+B;gBAC/B,QAAQ,EAAE,CAAC,CAAC,6BAAa,CAAC,GAAG,CAAC,2BAA2B,EAAE,KAAK,CAAC;gBACjE,8BAA8B;gBAC9B,QAAQ,EAAE,6BAAa,CAAC,GAAG,CAAC,2BAA2B,EAAE,KAAK,CAAC;gBAC/D,iCAAiC;gBACjC,WAAW,EAAE,6BAAa,CAAC,GAAG,CAAC,gCAAgC,EAAE,EAAE,CAAC;gBACpE,+BAA+B;gBAC/B,QAAQ,EAAE,6BAAa,CAAC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC;aACpE,CAAC;YACF,kCAAkC;QACtC,CAAC;KACJ,CAAC,CAAC;IAEH,OAAS,uBAAuB,CAAC","file":"CookieWarningBanner.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"CookieWarningBanner.View\"/>\n// @module CookieWarningBanner.View\n\nimport * as cookie_warning_banner_view_tpl from 'cookie_warning_banner_view.tpl';\nimport { Configuration } from '../../SCA/JavaScript/Configuration';\n\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\nimport Cookies = require('../../../Commons/Utilities/JavaScript/js.cookie');\n\n// @class CookieWarningBanner.View @extend Backbone.View\nconst CookieWarningBannerView: any = BackboneView.extend({\n    template: cookie_warning_banner_view_tpl,\n\n    events: {\n        'click [data-action=\"close-message\"]': 'closeMessage'\n    },\n\n    // @return {Void}\n    initialize: function initialize() {\n        BackboneView.prototype.initialize.apply(this, arguments);\n    },\n\n    // @method closeMessage Event handle for the close action\n    closeMessage: function closeMessage() {\n        Cookies.set('isCookieWarningClosed', true, { expires: 365 });\n    },\n\n    // @method showBanner Indicate if this current message should be shown or not\n    // @return {Boolean}\n    showBanner: function showBanner() {\n        return (\n            Configuration.get('siteSettings.showcookieconsentbanner') === 'T' &&\n            !(\n                Configuration.get('cookieWarningBanner.saveInCookie', false) &&\n                Cookies.get('isCookieWarningClosed')\n            )\n        );\n    },\n\n    // @method getContext\n    // @return {CookieWarningBanner.View.Context}\n    getContext: function getContext() {\n        // @class CookieWarningBanner.View.Context\n        return {\n            // @property {Boolean} showBanner\n            showBanner: this.showBanner(),\n            // @property {String} cookieMessage\n            cookieMessage: Configuration.get('cookieWarningBanner.message', ''),\n            // @property {Boolean} showLink\n            showLink: !!Configuration.get('siteSettings.cookiepolicy', false),\n            // @property {String} linkHref\n            linkHref: Configuration.get('siteSettings.cookiepolicy', false),\n            // @property {String} linkContent\n            linkContent: Configuration.get('cookieWarningBanner.anchorText', ''),\n            // @property {Boolean} showLink\n            closable: Configuration.get('cookieWarningBanner.closable', true)\n        };\n        // @class CookieWarningBanner.View\n    }\n});\n\nexport = CookieWarningBannerView;\n"]}