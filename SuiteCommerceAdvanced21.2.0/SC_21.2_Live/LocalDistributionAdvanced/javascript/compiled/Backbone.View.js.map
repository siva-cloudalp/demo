{"version":3,"sources":["Backbone.View.ts"],"names":[],"mappings":"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","file":"Backbone.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Backbone.View\"/>\n/// <reference path=\"../../../Commons/Utilities/JavaScript/GlobalDeclarations.d.ts\" />\n\n// Heads-Up: We need to ensure View extends from the original Backbone.View\n// and not from the version this file modifies, so View need to be created\n// before this module\nimport '../../Core/JavaScript/View';\nimport * as _ from 'underscore';\nimport * as Utils from '../../Utilities/JavaScript/Utils';\nimport * as jQuery from '../../Core/JavaScript/jQuery';\nimport { Environment } from '../../Core/JavaScript/Environment';\nimport { SCCancelableEvents } from '../../SC/JavaScript/SC.CancelableEvents';\n\nimport { SCBaseComponentChildViewsComponent } from '../../SC/JavaScript/SC.BaseComponent.ChildViewsComponent';\n\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\nimport PluginContainer = require('../../PluginContainer/JavaScript/PluginContainer');\n\n/*\n@module BackboneExtras\n#Backbone.View\nExtends native Backbone.View with a bunch of required methods most of this\n were defined as no-ops in ApplicationSkeleton.js\n@module Backbone @class Backbone.View\nIt overwrites the Backbone.View constructor with the one necessary to load\n all the views as composite views through\nthe beforeInitialize and afterInitialize plugins. This code needs to be\n here so that all the views can load it first.\n*/\n\n// Static methods\nconst class_properties = {\n    beforeInitialize: new PluginContainer(),\n    afterInitialize: new PluginContainer(),\n\n    // @method _isEventSelectorValid Validates is the passed in selector\n    // follows the format/standard required by SC Views\n    // format: '<event_name> [data=action=\"<event_handlerName>\"]'\n    // @private\n    // @param {String} event_selector Selector to be validates\n    // @return {Boolean}\n\n    _isEventSelectorValid: function _isEventSelectorValid(event_selector) {\n        const event_name = [\n            'blur',\n            'change',\n            'click',\n            'contextmenu',\n            'dblclick',\n            'error',\n            'focus',\n            'focusin',\n            'focusout',\n            'keydown',\n            'keypress',\n            'keyup',\n            'load',\n            'mousedown',\n            'mousemove',\n            'mouseout',\n            'mouseover',\n            'mouseup',\n            'resize',\n            'scroll',\n            'select',\n            'submit',\n            'touchend',\n            'touchmove',\n            'touchstart',\n            'unload'\n        ];\n\n        const event_selector_structure_re = /([a-zA-Z]+) \\[data\\-action=\"([^\"]+)\"\\]/;\n        const matches = event_selector_structure_re.exec(event_selector);\n\n        return matches && _.indexOf(event_name, matches[1]) >= 0 && !!matches[2].length;\n    },\n\n    // @method addExtraEventHandler Adds an extra event handler to the current view\n    // @param {String} event_selector Event specification to be added into the list\n    // of event handled by the current view\n    // @param {Function} callback Function that will be called when the specified event is triggered\n    // @return {Void}\n    // @static\n    // @public\n    addExtraEventHandler: function addExtraEventHandler(event_selector, callback) {\n        let error: any = {};\n        this.prototype.events = this.prototype.events || {};\n\n        if (!this._isEventSelectorValid(event_selector)) {\n            error = new Error(\n                'The specified event_selector parameter does not respect the required format.'\n            );\n            error.name = 'INVALID_PARAM';\n            throw error;\n        }\n\n        if (this.prototype.events[event_selector]) {\n            error = new Error('Duplicated event selector. Please specify a different one.');\n            error.name = 'DUPLICATED_EVENT_SELECTOR';\n            throw error;\n        }\n\n        this.prototype.events[event_selector] = _.bind(callback, null);\n        this.prototype.events[event_selector].custom = true;\n    },\n\n    // @method removeExtraEventHandler Removes an extra event handler of the current view\n    // @param {String} event_selector Event specification to be added into the list of event\n    // handled by the current view\n    // @return {Void}\n    // @static\n    // @public\n    removeExtraEventHandler: function removeExtraEventHandler(event_selector) {\n        let error: any = {};\n        this.prototype.events = this.prototype.events || {};\n\n        if (\n            !this.prototype.events[event_selector] ||\n            !this.prototype.events[event_selector].custom\n        ) {\n            error = new Error('The specified event selector does not exists or is not custom.');\n            error.name = 'INVALID_PARAM';\n            throw error;\n        }\n\n        delete this.prototype.events[event_selector];\n    }\n};\n\nconst properties = _.extend(\n    {\n        constructor: function(options) {\n            this.cid = _.uniqueId('view');\n            this._configure(options || {});\n            this._ensureElement();\n            this.constructor.beforeInitialize.executeAllWithContext(this, arguments);\n            this.initialize.apply(this, arguments);\n            this.constructor.afterInitialize.executeAllWithContext(this, arguments);\n            this.delegateEvents();\n        },\n\n        // @property {Array<String>} contextDataRequest The list of\n        // contexts that the view is requesting\n        contextDataRequest: [],\n\n        // @property {String} errorMessage Default error message,\n        // usally overwritten by server response on error\n        errorMessage:\n            'Sorry, the information you provided is either incomplete or needs to be corrected.',\n\n        // @method showContent @param {Boolean} dont_scroll will eventually\n        // be changed to an object literal\n        // @return {jQuery.Deferred}\n        showContent: function(dont_scroll) {\n            const application = this.options.application || this.options.container;\n\n            return application && application.getLayout().showContent(this, dont_scroll);\n        },\n\n        // @method showInModal @param {Object} options @return {jQuery.Deferred}\n        showInModal: function(options) {\n            // NavigationHelper.Plugins.Modals triggering the beforeShowContent event twice\n            // for the ProductDetails.Quick.View\n            if (options && options.silence) {\n                delete options.silence;\n                return (\n                    this.options.application &&\n                    this.options.application.getLayout()._showInModal(this, options)\n                );\n            }\n            return (\n                this.options.application &&\n                this.options.application.getLayout().showInModal(this, options)\n            );\n        },\n\n        // @method showInPush @param {Object} options @return {jQuery.Deferred}\n        showInPush: function(options) {\n            return (\n                this.options.application &&\n                this.options.application.getLayout().showInPush(this, options)\n            );\n        },\n\n        // @method getMetaDescription Get view's SEO attributes @return {String}\n        getMetaDescription: function() {\n            return this.metaDescription;\n        },\n\n        setMetaDescription: function(metaDescription) {\n            this.metaDescription = metaDescription;\n        },\n\n        // @method getMetaKeywords @return {String}\n        getMetaKeywords: function() {\n            return this.metaKeywords;\n        },\n\n        setMetaKeywords: function(metaKeywords) {\n            this.metaKeywords = metaKeywords;\n        },\n\n        // @method getAddToHead @return {String}\n        getAddToHead: function() {\n            return this.addToHead;\n        },\n\n        setAddToHead: function(addToHead) {\n            this.addToHead = addToHead;\n        },\n\n        // @method getMetaTags @return {Array<HTMLElement>}\n        getMetaTags: function() {\n            return jQuery('<head/>')\n                .html(this.metaTags || '')\n                .children('meta');\n        },\n\n        setMetaTags: function(metaTags) {\n            this.metaTags = metaTags;\n        },\n\n        // @method getTitle @returns {String} the document's title to show when this view is active.\n        getTitle: function() {\n            // @property {String} title this view title. The default\n            // behavior is to set the document's title using view.title\n            // when calling view.showContent()\n            return this.title;\n        },\n\n        setTitle: function(title) {\n            this.title = title;\n        },\n\n        // @method getPageDescription returns a text describing the\n        // page this view is implemented in the case is rendered as a\n        // main view with Layout.showContent()\n        getPageDescription: function() {\n            return this.attributes ? this.attributes.id || this.attributes.class || '' : '';\n        },\n\n        // @method getCanonical @return {String}\n        getCanonical: function() {\n            const { history } = Backbone;\n            const canonical = `${window.location.protocol}//${window.location.hostname}/${\n                history.fragment\n            }`;\n            const index_of_query = canonical.indexOf('?');\n\n            // !~ means: indexOf == -1\n            return !~index_of_query ? canonical : canonical.substring(0, index_of_query);\n        },\n\n        // @method getRelPrev For paginated pages, subclasses should\n        // implement this operations to return the url of the previous and next pages\n        getRelPrev: jQuery.noop,\n\n        // @method getRelNext For paginated pages, subclasses should\n        // implement this operations to return the url of the previous and next pages\n        getRelNext: jQuery.noop,\n\n        // @method _destroy \"private\", shouldn't be overwritten if a\n        // custom destroy method is required override the destroy method.\n        // This method should still be called\n        // @param {Boolean} softDestroy decides if the view should be empty instead of removed\n        _destroy: function() {},\n\n        // @method destroy\n        destroy: function(softDestroy) {\n            this._destroy(softDestroy);\n        },\n\n        // @method showConfirmationMessage @param {String} message\n        showConfirmationMessage: function(message: string, fixed: boolean) {\n            const Application = Environment.getApplication();\n            const layout = Application.getLayout();\n\n            const confirmation_message = this.$('[data-confirm-message]');\n            layout.showMessage(confirmation_message, message, 'success', true);\n\n            if (!fixed) {\n                setTimeout(function() {\n                    confirmation_message.fadeOut(3000);\n                }, 5000);\n            }\n        },\n\n        // @method showWarningMessage @param {String} message\n        showWarningMessage: function(message: string) {\n            const Application = Environment.getApplication();\n            const layout = Application.getLayout();\n            layout.showMessage(this.$('[data-confirm-message]'), message, 'warning', true);\n        },\n\n        // @method disableElementsOnPromise Disables and re-enables a given\n        // set of elements based on a promise\n        // @param {jQuery.Deferred} promise @param {String} selector\n        disableElementsOnPromise: function(promise, selector: string) {\n            const $target = this.$(selector);\n\n            console.warn('Use of deprecated method View.disableElementsOnPromise');\n\n            if ($target.length === 0) {\n                return;\n            }\n\n            $target.attr('disabled', true);\n\n            promise.always(function() {\n                $target.attr('disabled', false);\n            });\n        },\n\n        getContext: function() {\n            return {};\n        },\n\n        // @method validateContextDataRequest Validate if the context that\n        // the view recieves is enough for it to work\n        // @param {Object} context_data An object with the contexts found\n        // @return {Boolean}\n        validateContextDataRequest: function(context_data) {\n            return _.keys(context_data).length === this.contextDataRequest.length;\n        },\n\n        // @method getContextDataRequest Returns a copy of the 'contextDataRequest' property\n        // @return {Array<String>}\n        getContextDataRequest: function() {\n            return this.contextDataRequest.slice();\n        },\n\n        hideError: function() {\n            const Application = Environment.getApplication();\n            Application.getLayout().hideError();\n        },\n\n        showError: function(message, type?, closable?, disableElements?) {\n            this.hideError();\n\n            // Finds or create the placeholder for the error message\n            let placeholder = this.$('[data-type=\"alert-placeholder\"]');\n\n            if (!placeholder.length) {\n                placeholder = jQuery('<div/>', { 'data-type': 'alert-placeholder' });\n                this.$el.prepend(placeholder);\n            }\n\n            const Application = Environment.getApplication();\n            const layout = Application.getLayout();\n            layout.showMessage(\n                placeholder,\n                message,\n                type || 'error',\n                !_.isUndefined(closable) ? !!closable : false,\n                true\n            );\n\n            // Re Enables all posible disableded buttons of the view\n            if (!disableElements) {\n                this.$(':disabled').attr('disabled', false);\n            }\n\n            // If the backToTop module is loaded, we scroll to the top\n            // of the view to show the error.\n            if (this.application) {\n                _.result(this.application.getLayout(), 'backToTop');\n            }\n        },\n\n        // @method showErrorInModal @param  {String} message\n        showErrorInModal: function(message): void {\n            const view = new Backbone.View({ application: this.application });\n\n            view.setTitle(Utils.translate('Error'));\n            view.render = function(): void {\n                this.$el.append(`<p class=\"error-message\">${message}</p>`);\n            };\n            view.showInModal();\n        }\n    },\n    SCCancelableEvents\n);\n\n(<any>Backbone.View) = Backbone.View.extend(properties, class_properties);\nconst BackboneView: any = Backbone.View;\nexport = BackboneView;\n"]}