{"version":3,"sources":["LoginRegister.ResetPassword.View.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAiBF,qDAAqD;IACrD,wDAAwD;IACxD,IAAM,8BAA8B,GAAQ,YAAY,CAAC,MAAM,CAAC;QAC5D,QAAQ,EAAE,kBAAkB;QAE5B,UAAU,EAAE;YACR,EAAE,EAAE,gBAAgB;SACvB;QAED,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,gBAAgB,CAAC;QAExC,MAAM,EAAE;YACJ,aAAa,EAAE,UAAU;SAC5B;QAED,QAAQ,EAAE;YACN,mBAAmB,EAAE,UAAU;YAC/B,2BAA2B,EAAE,kBAAkB;SAClD;QAED,UAAU,EAAE;YACR,IAAI,CAAC,KAAK,GAAG,IAAI,yBAAyB,EAAE,CAAC;YAC7C,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC5E,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC;YAEtD,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;QAED,sBAAsB;QACtB,WAAW,EAAE;YACT,EAAE,CAAC,WAAW,CAAC,6BAA6B,GAAG,IAAI,CAAC;YACpD,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,gBAAgB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACnE,CAAC;QAED,aAAa,EAAE;YACX,2FAA2F;YAC3F,IACI,6BAAa,CAAC,mBAAmB,EAAE,KAAK,UAAU;gBAClD,EAAE,CAAC,WAAW,CAAC,YAAY,CAAC,iBAAiB,KAAK,GAAG,EACvD;gBACE,OAAO,oBAAoB,CAAC;aAC/B;QACL,CAAC;KACJ,CAAC,CAAC;IAEH,OAAS,8BAA8B,CAAC","file":"LoginRegister.ResetPassword.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"LoginRegister.ResetPassword.View\"/>\n/// <reference path=\"../../../Commons/Utilities/JavaScript/UnderscoreExtended.d.ts\" />\n/// <reference path=\"../../../Commons/Utilities/JavaScript/GlobalDeclarations.d.ts\" />\n\nimport * as _ from 'underscore';\nimport * as reset_password_tpl from 'login_register_reset_password.tpl';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport { Configuration } from '../../SCA/JavaScript/Configuration';\n\nimport AccountResetPasswordModel = require('../../Account/JavaScript/Account.ResetPassword.Model');\nimport BackboneFormView = require('../../../Commons/Backbone.FormView/JavaScript/Backbone.FormView');\nimport HeaderSimplifiedView = require('../../Header/JavaScript/Header.Simplified.View');\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\n\n// @class LoginRegister.ResetPassword.View implements\n// the reset-password experience UI @extend BackboneView\nconst LoginRegisterResetPasswordView: any = BackboneView.extend({\n    template: reset_password_tpl,\n\n    attributes: {\n        id: 'reset-password'\n    },\n\n    title: Utils.translate('Reset Password'),\n\n    events: {\n        'submit form': 'saveForm'\n    },\n\n    bindings: {\n        '[name=\"password\"]': 'password',\n        '[name=\"confirm_password\"]': 'confirm_password'\n    },\n\n    initialize: function() {\n        this.model = new AccountResetPasswordModel();\n        this.model.set('params', { cb: Utils.parseUrlOptions(location.search).cb });\n        this.model.on('save', _.bind(this.showSuccess, this));\n\n        BackboneFormView.add(this);\n    },\n\n    // @method showSuccess\n    showSuccess: function() {\n        SC.ENVIRONMENT.updated_password_confirmation = true;\n        Backbone.history.navigate('login-register', { trigger: true });\n    },\n\n    getHeaderView: function() {\n        // We've got to disable passwordProtectedSite feature if customer registration is disabled.\n        if (\n            Configuration.getRegistrationType() !== 'disabled' &&\n            SC.ENVIRONMENT.siteSettings.siteloginrequired === 'T'\n        ) {\n            return HeaderSimplifiedView;\n        }\n    }\n});\n\nexport = LoginRegisterResetPasswordView;\n"]}