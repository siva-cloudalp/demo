{"version":3,"sources":["Backbone.View.Plugin.ApplyPermissions.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;;;IAQW,QAAA,kCAAkC,GAAG;QAC9C,UAAU,EAAE;YACR,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,iBAAiB,CAAC,EAAE;gBAClC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC;oBAC5B,IAAI,EAAE,kBAAkB;oBACxB,QAAQ,EAAE,EAAE;oBACZ,+DAA+D;oBAC/D,mDAAmD;oBACnD,mIAAmI;oBACnI,2CAA2C;oBAC3C,0DAA0D;oBAC1D,iGAAiG;oBACjG,OAAO;oBACP,6DAA6D;oBAC7D,4GAA4G;oBAC5G,iKAAiK;oBACjK,uEAAuE;oBACvE,OAAO;oBACP,6DAA6D;oBAC7D,4IAA4I;oBAC5I,OAAO,EAAE,6DAA4B;iBACxC,CAAC,CAAC;aACN;QACL,CAAC;KACJ,CAAC","file":"Backbone.View.Plugin.ApplyPermissions.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Backbone.View.Plugin.ApplyPermissions\"/>\nimport * as _ from 'underscore';\nimport { backboneViewApplyPermissions } from './Backbone.View.ApplyPermissions';\n\nimport BackboneView = require('./Backbone.View.render');\n\nexport const BackboneViewPluginApplyPermissions = {\n    mountToApp: function() {\n        if (!_.result(SC, 'isPageGenerator')) {\n            BackboneView.postRender.install({\n                name: 'applyPermissions',\n                priority: 10,\n                // Given a DOM template, removes the elements from the DOM that\n                // do not comply with the list of permissions level\n                // The permission level is specified by using the data-permissions attribute and data-permissions-operator (the latter is optional)\n                // on any html tag in the following format:\n                // <permission_category>.<permission_name>.<minimum_level>\n                // permission_category and permission_name come from SC.ENVIRONMENT.permissions. (See commons.js)\n                // e.g:\n                //     <div data-permissions=\"transactions.tranFind.1\"></div>\n                //     <div data-permissions=\"transactions.tranCustDep.3,transactions.tranDepAppl.1 lists.tranFind.1\"></div>\n                // Notice several permissions can be separated by space or comma, by default (in case that data-permissions-operator is missing) all permission will be evaluates\n                // as AND, otherwise data-permissions-operator should have the value OR\n                // e.g:\n                //     <div data-permissions=\"transactions.tranFind.1\"></div>\n                //     <div data-permissions=\"transactions.tranCustDep.3,transactions.tranDepAppl.1 lists.tranFind.1\" data-permissions-operator=\"OR\" ></div>\n                execute: backboneViewApplyPermissions\n            });\n        }\n    }\n};\n"]}