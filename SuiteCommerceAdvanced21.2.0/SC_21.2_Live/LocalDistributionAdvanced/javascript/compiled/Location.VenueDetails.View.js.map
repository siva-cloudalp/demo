{"version":3,"sources":["Location.VenueDetails.View.ts"],"names":[],"mappings":"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","file":"Location.VenueDetails.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Location.VenueDetails.View\"/>\n\nimport * as _ from 'underscore';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport * as locator_venue_details_tpl from 'locator_venue_details.tpl';\n\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\n\nconst LocationVenueDetailsView: any = BackboneView.extend({\n    template: locator_venue_details_tpl,\n\n    // @method initialize\n    // @params {Object} options\n    initialize: function initialize(options) {\n        this.model = options.model;\n        this.application = options.application;\n        this.show_address = options.showAddress;\n        this.hide_cutoff_time = options.hideCutoffTime;\n    },\n    // @method setOpeningHours\n    setOpeningHours: function setOpeningHours() {\n        const opening_hours = this.model.get('servicehours');\n        const opening_hours_str_list = [];\n\n        _.each(opening_hours, function(row: any) {\n            const hours = row.starttime + Utils.translate(' to ') + row.endtime;\n            const days_list = [\n                row.monday === 'T',\n                row.tuesday === 'T',\n                row.wednesday === 'T',\n                row.thursday === 'T',\n                row.friday === 'T',\n                row.saturday === 'T',\n                row.sunday === 'T'\n            ];\n            const days_name = [\n                Utils.translate('Monday'),\n                Utils.translate('Tuesday'),\n                Utils.translate('Wednesday'),\n                Utils.translate('Thursday'),\n                Utils.translate('Friday'),\n                Utils.translate('Saturday'),\n                Utils.translate('Sunday')\n            ];\n            let days = '';\n            let sequence_days = [];\n            let discontinuous_days = [];\n            let sequence_active = false;\n            let sequence_finish = false;\n\n            _.each(days_list, function(day, key) {\n                if (day) {\n                    if (sequence_days.length === 0) {\n                        sequence_active = true;\n                    }\n                    if (sequence_active && !sequence_finish) {\n                        sequence_days.push(days_name[key]);\n                    } else {\n                        discontinuous_days.push(days_name[key]);\n                    }\n                } else if (sequence_active) {\n                    if (sequence_days.length < 3) {\n                        sequence_active = false;\n                        discontinuous_days = discontinuous_days.concat(sequence_days);\n                        sequence_days = [];\n                    } else {\n                        sequence_finish = true;\n                    }\n                }\n            });\n\n            if (sequence_days.length < 3) {\n                sequence_active = false;\n                discontinuous_days = discontinuous_days.concat(sequence_days);\n            }\n\n            if (sequence_active) {\n                days =\n                    sequence_days[0] +\n                    Utils.translate(' to ') +\n                    sequence_days[sequence_days.length - 1];\n            }\n\n            _.each(discontinuous_days, function(discontinuous_day, key) {\n                if (key === 0 && !sequence_active) {\n                    days += discontinuous_day;\n                } else if (key === discontinuous_days.length - 1) {\n                    days = days + Utils.translate(' and ') + discontinuous_day;\n                } else {\n                    days = days + ', ' + discontinuous_day;\n                }\n            });\n\n            const open_hours_row = { row: days + ' - ' + hours };\n\n            opening_hours_str_list.push(open_hours_row);\n        });\n\n        return opening_hours_str_list;\n    },\n    // @method getContext\n    getContext: function getContext() {\n        const { model } = this;\n\n        return {\n            // @property {StoreLocator.Model} model\n            location: model,\n            // @property {Boolean} showAddress\n            showAddress: this.show_address,\n            // @property {Boolean} showStoreAddress\n            showStoreAddress: !!model.get('address1'),\n            // @property {Boolean} showCity\n            showCity: !!model.get('city'),\n            // @property {Boolean} showZipCode\n            showZipCode: !!model.get('zip'),\n            // @property {Boolean} showStoreState\n            showStoreState: !!model.get('state'),\n            // @property {Boolean} showPhone\n            showPhone: !!model.get('phone'),\n            // @property {Boolean} showServiceHours\n            showServiceHours: !!(model.get('servicehours') && model.get('servicehours').length),\n            // @property {Array} serviceHours\n            serviceHours: this.setOpeningHours(),\n            // @property {Boolean} showCutoffTime\n            showCutoffTime: !this.hide_cutoff_time && !!model.get('nextpickupday'),\n            // @property {Boolean} showCutoffTime\n            nextPickupDayIsToday: this.model.get('nextpickupday') === 'today',\n            // @property {Boolean} nextPickupDayIsToday\n            nextPickupDayIsTomorrow: this.model.get('nextpickupday') === 'tomorrow',\n            // @property {Boolean} nextPickupDayIsTomorrow\n            nextPickupDayIsSunday: this.model.get('nextpickupday') === 'sunday',\n            // @property {Boolean} nextPickupDayIsSunday\n            nextPickupDayIsMonday: this.model.get('nextpickupday') === 'monday',\n            // @property {Boolean} nextPickupDayIsMonday\n            nextPickupDayIsTuesday: this.model.get('nextpickupday') === 'tuesday',\n            // @property {Boolean} nextPickupDayIsTuesday\n            nextPickupDayIsWednesday: this.model.get('nextpickupday') === 'wednesday',\n            // @property {Boolean} nextPickupDayIsWednesday\n            nextPickupDayIsThursday: this.model.get('nextpickupday') === 'thursday',\n            // @property {Boolean} nextPickupDayIsThursday\n            nextPickupDayIsFriday: this.model.get('nextpickupday') === 'friday',\n            // @property {Boolean} nextPickupDayIsFriday\n            nextPickupDayIsSaturday: this.model.get('nextpickupday') === 'saturday'\n        };\n    }\n});\n\nexport = LocationVenueDetailsView;\n"]}