{"version":3,"sources":["Header.MiniCartItemCell.View.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAaF,OAAS,YAAY,CAAC,MAAM,CAAC;QACzB,QAAQ,EAAE,8BAA8B;QAExC,UAAU,EAAE;YACR,sBAAsB,EAAE;gBACpB,OAAO,IAAI,uCAAuC,CAAC;oBAC/C,KAAK,EAAE,IAAI,CAAC,KAAK;iBACpB,CAAC,CAAC;YACP,CAAC;SACJ;QAED,qBAAqB;QACrB,yCAAyC;QACzC,UAAU,EAAE;YACR,IAAM,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;YACrD,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC;YAClD,IAAM,WAAW,GAAG,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;YAE5E,sCAAsC;YACtC,OAAO;gBACH,IAAI,EAAE,IAAI,CAAC,KAAK;gBAChB,4BAA4B;gBAC5B,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE;gBACjC,8BAA8B;gBAC9B,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC;gBAChD,oCAAoC;gBACpC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;oBACnC,QAAQ,EAAE,IAAI;oBACd,QAAQ,EAAE,IAAI;oBACd,iBAAiB,EAAE,IAAI;iBAC1B,CAAC;gBACF,uCAAuC;gBACvC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;gBACpC,qCAAqC;gBACrC,cAAc,EAAE,CAAC,4BAAY,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE;gBACxD,iCAAiC;gBACjC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,IAAI;gBAChD,mCAAmC;gBACnC,aAAa,EAAE,WAAW;oBACtB,CAAC,CAAC,WAAW,CAAC,eAAe;oBAC7B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,sBAAsB,CAAC,eAAe,IAAI,EAAE;gBACtF,uCAAuC;gBACvC,gBAAgB,EAAE,CAAC,CAAC,WAAW;gBAC/B,2CAA2C;gBAC3C,qBAAqB,EAAE,WAAW,IAAI,WAAW,CAAC,gBAAgB;gBAClE,iCAAiC;gBACjC,WAAW,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,UAAU;aAC1C,CAAC;YACF,8BAA8B;QAClC,CAAC;KACJ,CAAC,CAAC","file":"Header.MiniCartItemCell.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Header.MiniCartItemCell.View\"/>\n\nimport * as header_mini_cart_item_cell_tpl from 'header_mini_cart_item_cell.tpl';\nimport { ProfileModel } from '../../../Commons/Profile/JavaScript/Profile.Model';\n\nimport TransactionLineViewsOptionsSelectedView = require('../../../Commons/Transaction.Line.Views/JavaScript/Transaction.Line.Views.Options.Selected.View');\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\n\n// @module Header\n\n// @class Header.MiniCart.View @extends BackboneView\nexport = BackboneView.extend({\n    template: header_mini_cart_item_cell_tpl,\n\n    childViews: {\n        'Item.SelectedOptions': function() {\n            return new TransactionLineViewsOptionsSelectedView({\n                model: this.model\n            });\n        }\n    },\n\n    // @method getContext\n    // @return {Header.MiniCart.View.Context}\n    getContext: function() {\n        const price_container_object = this.model.getPrice();\n        const item = this.model.get('item') || this.model;\n        const betterPrice = item && item.getBetterPrice(this.model.get('quantity'));\n\n        // @class Header.MiniCart.View.Context\n        return {\n            line: this.model,\n            // @property {Number} itemId\n            itemId: this.model.get('item').id,\n            // @property {String} itemType\n            itemType: this.model.get('item').get('itemtype'),\n            // @property {String} linkAttributes\n            linkAttributes: this.model.getFullLink({\n                quantity: null,\n                location: null,\n                fulfillmentChoice: null\n            }),\n            // @property {ImageContainer} thumbnail\n            thumbnail: this.model.getThumbnail(),\n            // @property {Boolean} isPriceEnabled\n            isPriceEnabled: !ProfileModel.getInstance().hidePrices(),\n            // @property {Boolean} isFreeGift\n            isFreeGift: this.model.get('free_gift') === true,\n            // @property {String} rateFormatted\n            rateFormatted: betterPrice\n                ? betterPrice.betterItemPrice\n                : this.model.get('rate_formatted') || price_container_object.price_formatted || '',\n            // @property {Boolean} showComparePrice\n            showComparePrice: !!betterPrice,\n            // @property {String} comparePriceFormatted\n            comparePriceFormatted: betterPrice && betterPrice.defaultItemPrice,\n            // @property {String} isNavigable\n            isNavigable: !SC.ENVIRONMENT.standalone\n        };\n        // @class Header.MiniCart.View\n    }\n});\n"]}