{"version":3,"sources":["Wizard.View.ts"],"names":[],"mappings":"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","file":"Wizard.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Wizard.View\"/>\n\nimport '../../../Commons/Backbone.CompositeView/JavaScript/Backbone.CompositeView';\nimport '../../../Commons/Tracker/JavaScript/Tracker';\n\nimport * as wizard_tpl from 'wizard.tpl';\n\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\nimport WizardStepNavigationView = require('./Wizard.StepNavigation.View');\n\n// @class Wizard.View  Frame component, Renders the steps @extends Backbone.View\nconst WizardView: any = BackboneView.extend({\n    template: wizard_tpl,\n\n    enhancedEcommercePage: true,\n\n    attributes: {\n        id: 'wizard',\n        'data-root-component-id': 'Wizard.View'\n    },\n\n    events: {\n        'click [data-action=\"previous-step\"]': 'previousStep',\n        'click [data-action=\"submit-step\"]': 'submit'\n    },\n\n    childViews: {\n        'Wizard.StepNavigation': function() {\n            return new WizardStepNavigationView({ wizard: this.wizard });\n        }\n    },\n\n    initialize: function(options: { currentStep: string }) {\n        const url = Backbone.history.fragment.split('?')[0];\n\n        this.currentStep = options.currentStep || this.wizard.steps[url];\n    },\n\n    render: function() {\n        this.title = this.currentStep.getName();\n\n        // Renders itself\n        this._render();\n\n        // Then Renders the current Step\n        this.currentStep.attributes = this.currentStep.attributes || {};\n        this.currentStep.attributes['data-root-component-id'] = this.attributes[\n            'data-root-component-id'\n        ];\n        this.currentStep.render();\n\n        // Then adds the step in the #wizard-content element of self\n        this.$('#wizard-content')\n            .empty()\n            .append(this.currentStep.$el);\n    },\n\n    // @method showError handle error messages on each step so we disable the global ErrorManagment\n    showError: function(message) {\n        this.wizard.manageError(message);\n    },\n\n    // @method previousStep\n    previousStep: function(e) {\n        this.wizard.getCurrentStep().previousStep(e);\n    },\n\n    // @method getHeaderView\n    getHeaderView: function() {\n        return this.wizard.getCurrentStep() && this.wizard.getCurrentStep().headerView;\n    },\n\n    // @method getHeaderViewOptions\n    getHeaderViewOptions: function() {\n        return (\n            this.wizard.getCurrentStep() &&\n            this.wizard.getCurrentStep().headerViewOptions &&\n            this.wizard.getCurrentStep().headerViewOptions()\n        );\n    },\n\n    // @method getFooterView\n    getFooterView: function() {\n        return this.wizard.getCurrentStep() && this.wizard.getCurrentStep().footerView;\n    },\n\n    // @method getFooterViewOptions\n    getFooterViewOptions: function() {\n        return (\n            this.wizard.getCurrentStep() &&\n            this.wizard.getCurrentStep().footerViewOptions &&\n            this.wizard.getCurrentStep().footerViewOptions()\n        );\n    },\n\n    getPageDescription: function() {\n        return 'checkout - ' + (Backbone.history.fragment || '').split('?')[0]; // remove parameters - we don't want a variable value for site-page\n    },\n\n    // @method submit\n    submit: function(e) {\n        this.wizard.getCurrentStep().submit(e);\n    },\n\n    // @method getContext @return {Wizard.View.Context}\n    getContext: function() {\n        // @class Wizard.View.Context\n        return {\n            // @property {Boolean} showBreadcrumb\n            showBreadcrumb:\n                this.wizard.getCurrentStep() && !this.wizard.getCurrentStep().hideBreadcrumb\n        };\n        // @class Wizard.View\n    }\n});\n\nexport = WizardView;\n"]}