{"version":3,"sources":["ProductList.Details.View.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IA0BF,OAAS,YAAY,CAAC,MAAM,CAAC;QACzB,QAAQ,EAAE,wBAAwB;QAElC,SAAS,EAAE,wBAAwB;QAEnC,UAAU,EAAE;YACR,EAAE,EAAE,gBAAgB;YACpB,KAAK,EAAE,wBAAwB;SAClC;QAED,MAAM,EAAE;YACJ,eAAe;YACf,mCAAmC,EAAE,sBAAsB;YAC3D,yCAAyC,EAAE,2BAA2B;YAEtE,oCAAoC,EAAE,oBAAoB;YAE1D,iCAAiC,EAAE,iBAAiB;YACpD,4CAA4C,EAAE,wBAAwB;YACtE,gDAAgD,EAAE,2BAA2B;YAC7E,0CAA0C,EAAE,eAAe;YAC3D,iDAAiD,EAAE,eAAe;YAClE,wCAAwC,EAAE,gBAAgB;YAE1D,iCAAiC,EAAE,iBAAiB;YAEpD,wCAAwC,EAAE,oBAAoB;YAC9D,uCAAuC,EAAE,oBAAoB;YAC7D,kDAAkD,EAAE,8BAA8B;YAClF,yCAAyC,EAAE,8BAA8B;SAC5E;QAED,WAAW,EAAE;YACT;gBACI,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC;gBACrC,QAAQ,EAAE,IAAI;aACjB;YACD;gBACI,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,eAAe,CAAC;aACzC;YACD;gBACI,KAAK,EAAE,SAAS;gBAChB,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,oBAAoB,CAAC;aAC9C;YACD;gBACI,KAAK,EAAE,UAAU;gBACjB,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC;aAC5C;SACJ;QAED,UAAU,EAAE,UAAS,OAAO;YACxB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;YAC/C,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;YACvC,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,WAAW,EAAE,CAAC;YAEzC,IAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,WAAW,IAAI,EAAE,CAAC;YACnE,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC,SAAS,CAAC;YAC5C,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;YAEtB,IAAI,CAAC,EAAE,CAAC,0BAA0B,EAAE;gBAChC,IAAM,IAAI,GAAG,IAAI,CAAC;gBAClB,IAAM,kBAAkB,GAAG,EAAE,CAAC;gBAC9B,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACtC,IAAM,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;gBAE/E,KAAK,CAAC,IAAI,CAAC,UAAS,IAAI;oBACpB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE;wBACzC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBACjC;oBAED,IAAI,CAAC,cAAc,EAAE;wBACjB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;qBACzB;gBACL,CAAC,CAAC,CAAC;gBAEH,IAAI,eAAe,GAAG,IAAI,CAAC;gBAE3B,IAAI,kBAAkB,CAAC,MAAM,KAAK,CAAC,EAAE;oBACjC,eAAe,GAAG,KAAK,CAAC,SAAS,CAC7B,6JAA6J,EAC7J,kBAAkB,CAAC,MAAM,EACzB,KAAK,CAAC,MAAM,CACf,CAAC;iBACL;qBAAM,IAAI,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACtC,eAAe,GAAG,KAAK,CAAC,SAAS,CAC7B,8JAA8J,EAC9J,kBAAkB,CAAC,MAAM,EACzB,KAAK,CAAC,MAAM,CACf,CAAC;iBACL;gBAED,IAAI,eAAe,EAAE;oBACjB,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;iBAC5C;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QAED,iBAAiB,EAAE,SAAS,iBAAiB;YACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;YAErE,OAAO,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC1C,CAAC;QAED,WAAW,EAAE,SAAS,WAAW;YAC7B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC1C,IAAI,CAAC,UAAU,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC7D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;YAE1D,OAAO,YAAY,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QACrE,CAAC;QAED,kEAAkE;QAClE,eAAe,EAAE,UAAS,UAAU;YAChC,IAAM,IAAI,GAAG,IAAI,CAAC;YAElB,IAAI,CAAC,UAAU,GAAG,IAAI,gCAAc,CAAC;gBACjC,IAAI,EAAE,IAAI;gBACV,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,eAAe,EAAE,IAAI;gBACrB,YAAY,EAAE;oBACV,IAAM,IAAI,GAAG,IAAI,0BAA0B,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;oBACnE,IAAI,CAAC,MAAM,EAAE,CAAC;oBACd,OAAO,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;gBACtD,CAAC;gBAED,oBAAoB,EAAE;oBAClB,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;gBACtC,CAAC;gBACD,UAAU,EAAE,IAAI;gBAChB,UAAU,EAAE,UAAU;gBACtB,KAAK,EAAE,IAAI,CAAC,WAAW;aAC1B,CAAC,CAAC;QACP,CAAC;QAED,uDAAuD;QACvD,cAAc,EAAE;YACZ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC;QAED,wBAAwB;QACxB,aAAa,EAAE,oBAAoB,CAAC,SAAS,CAAC,aAAa;QAE3D,mEAAmE;QACnE,oBAAoB,EAAE,UAAS,CAAC;YAC5B,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAM,6BAA6B,GAAG,IAAI;iBACrC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;iBACX,OAAO,CAAC,SAAS,CAAC;iBAClB,IAAI,CAAC,IAAI,CAAC,CAAC;YAChB,IAAM,0BAA0B,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC;gBACjE,UAAU,EAAE,6BAA6B,CAAC,QAAQ,EAAE;aACvD,CAAC,CAAC;YACH,IAAM,aAAa,GAAG,0BAA0B,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAC7D,IAAM,wBAAwB,GAAG,aAAa,CAAC,UAAU,CAAC;YAC1D,IAAM,WAAW,GAAG,0BAA0B,CAAC,cAAc,CACzD,wBAAwB,EACxB,0BAA0B,CAAC,GAAG,CAAC,UAAU,CAAC,EAC1C,aAAa,CAAC,kBAAkB,EAChC,0BAA0B,CAAC,eAAe,EAAE,CAC/C,CAAC;YAEF,IAAM,mBAAmB,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;YAC5D,IAAM,aAAa,GAAG,MAAM;iBACvB,IAAI,CAAC,mBAAmB,CAAC;iBACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,wBAAwB,EAAE,0BAA0B,CAAC,CAAC,CAAC;YAEpF,IAAI,aAAa,EAAE;gBACf,IAAI,CAAC,wBAAwB,CACzB,aAAa,EACb,4BAAyB,wBAAwB,sCAA+B,wBAAwB,eAAW,CACtH,CAAC;aACL;QACL,CAAC;QAED,oEAAoE;QACpE,+DAA+D;QAC/D,aAAa,EAAE;YACX,IAAM,KAAK,GAAG,EAAE,CAAC;YACjB,IAAM,eAAe,GAAG,EAAE,CAAC;YAE3B,kCAAkC;YAClC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,UAAS,GAAQ;gBAC5C,0BAA0B;gBAC1B,IAAI,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;oBAC7B,OAAO;iBACV;gBAED,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAEhB,IAAM,gBAAgB,GAAG,GAAG,CAAC,SAAS,EAAE,CAAC;gBACzC,eAAe,CAAC,IAAI,CAChB,4BAAyB,gBAAgB,sCAA+B,gBAAgB,eAAW,CACtG,CAAC;YACN,CAAC,CAAC,CAAC;YACH,OAAO;gBACH,KAAK,EAAE,IAAI,yBAAyB,CAAC,KAAK,CAAC;gBAC3C,eAAe,EAAE,eAAe;aACnC,CAAC;QACN,CAAC;QAED,oCAAoC;QACpC,yBAAyB,EAAE,UAAS,CAAC;YACjC,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAM,eAAe,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAE7C,4BAA4B;YAC5B,IAAI,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClC,OAAO;aACV;YAED,IAAM,eAAe,GAAG,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClE,oBAAoB;YACpB,IAAM,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAEhF,mBAAmB,CAAC,IAAI,CAAC;gBACrB,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAClC,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,wBAAwB,CAAC,mBAAmB,EAAE,eAAe,CAAC,CAAC;QACxE,CAAC;QAED,6BAA6B;QAC7B,kBAAkB,EAAE,UAAS,CAAC;YAC1B,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAM,eAAe,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAC7C,IAAM,eAAe,GAAG,EAAE,CAAC;YAE3B,IAAI,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClC,OAAO;aACV;YAED,4FAA4F;YAC5F,iCAAiC;YACjC,IAAM,aAAa,GAAQ,CAAC,CAAC,SAAS,CAClC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,MAAM,EACjE,EAAE,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CACxB,CAAC;YAEF,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,UAAS,IAAI;gBACzD,uCAAuC;gBACvC,IAAI,CAAC,GAAG,GAAG,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC;gBAE9C,aAAa,IAAI,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAEzD,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;YACnD,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC,IAAI,CAAC;gBAC5C,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,IAAI,CAAC,uBAAuB,CACxB,KAAK,CAAC,SAAS,CAAC,wDAAwD,CAAC,CAC5E,CAAC;YACN,CAAC,CAAC,CAAC;QACP,CAAC;QAED,kFAAkF;QAClF,SAAS,EAAE;YACP,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,UAAS,IAAS;gBAC7C,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAED,sBAAsB;QACtB,WAAW,EAAE;YACT,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,UAAS,IAAS;gBAC7C,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAED,iCAAiC;QACjC,sBAAsB,EAAE,UAAS,aAAa;YAC1C,IAAI,CAAC,uBAAuB,CACxB,KAAK,CAAC,SAAS,CACX,6IAA6I,CAChJ,CACJ,CAAC;YAEF,iCAAiC;YACjC,IAAI,CAAC,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,IAAI,EAAE;gBACvC,OAAO;aACV;YAED,IAAI,CAAC,eAAe,GAAG,IAAI,0BAA0B,CAAC;gBAClD,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,UAAU,EAAE,IAAI;gBAChB,IAAI,EAAE,aAAa;aACtB,CAAC,CAAC;YAEH,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACnE,CAAC;QAED,kDAAkD;QAClD,aAAa,EAAE,UAAS,IAAI;YACxB,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC;QAED,2EAA2E;QAC3E,kFAAkF;QAClF,cAAc,EAAE,UAAS,iBAAiB,EAAE,WAAW;YACnD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;YAClD,iBAAiB,CAAC,GAAG,GAAG,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC;YAE3D,IAAM,OAAO,GAAG,iBAAiB,CAAC,OAAO,EAAE,CAAC;YAE5C,OAAO;gBACH,WAAW;gBACX,OAAO,CAAC,IAAI,CAAC;oBACT,WAAW,EAAE,CAAC;gBAClB,CAAC,CAAC,CAAC;QACX,CAAC;QAED,yEAAyE;QACzE,eAAe,EAAE,UAAS,CAAC;YACvB,CAAC,CAAC,eAAe,EAAE,CAAC;YAEpB,IAAM,mBAAmB,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;iBACvC,OAAO,CAAC,WAAW,CAAC;iBACpB,IAAI,CAAC,IAAI,CAAC,CAAC;YAChB,IAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YACvE,IAAM,QAAQ,GAAG,IAAI,uBAAuB,CAAC;gBACzC,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,UAAU,EAAE,IAAI;gBAChB,KAAK,EAAE,aAAa;gBACpB,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC;gBACnC,mBAAmB,EAAE,qBAAqB;aAC7C,CAAC,CAAC;YAEH,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACvD,CAAC;QAED,0FAA0F;QAC1F,sBAAsB,EAAE,UAAS,CAAC;YAC9B,IAAI,CAAC,4BAA4B,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;QAC7D,CAAC;QAED,yBAAyB,EAAE,UAAS,CAAC;YACjC,IAAI,CAAC,4BAA4B,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;QAC7D,CAAC;QACD,4BAA4B,EAAE,UAAS,CAAC,EAAE,MAAM;YAC5C,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAM,mBAAmB,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxD,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK;iBAC1B,GAAG,CAAC,OAAO,CAAC;iBACZ,SAAS,CAAC,EAAE,UAAU,EAAE,mBAAmB,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC/D,IAAM,QAAQ,GAAG,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACtD,IAAM,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;YAEtE,OAAO;gBACH,OAAO,CAAC,IAAI,CAAC;oBACT,IAAI,CAAC,MAAM,EAAE,CAAC;gBAClB,CAAC,CAAC,CAAC;QACX,CAAC;QAED,gEAAgE;QAChE,mBAAmB,EAAE,UAAS,cAAc;YACxC,IAAM,SAAS,GAAG,IAAI,oBAAoB,CAAC,cAAc,CAAC,CAAC;YAC3D,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACzC,IAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAC/D,IAAM,oBAAoB,GAAG,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;YAE9D,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;YAC5E,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,EAAE,EAAE,EAAE,oBAAoB,EAAE,CAAC,CAAC;YAErE,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAED,8EAA8E;QAC9E,gBAAgB,EAAE;YACd,IAAM,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC;YAE9E,OAAO,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC;gBACpC,EAAE,EAAE,MAAM;aACb,CAAC,CAAC;QACP,CAAC;QAED,iEAAiE;QACjE,gDAAgD;QAChD,UAAU,EAAE,UAAS,kBAAkB;YACnC,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,gBAAa,kBAAkB,CAAC,EAAE,QAAI,CAAC,CAAC,IAAI,CACjE,wCAAwC,CAC3C,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC,sBAAsB,EAAE,CAAC,IAAI,CAAC;gBACnE,IAAM,OAAO,GAAG,IAAI,sBAAsB,CAAC;oBACvC,UAAU,EAAE,IAAI,CAAC,YAAY,CACzB,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC,eAAe,EAAE,EAC1D,IAAI,CAAC,KAAK,EACV,kBAAkB,CACrB;oBACD,OAAO,EAAE,kBAAkB;oBAC3B,WAAW,EAAE,IAAI,CAAC,WAAW;oBAC7B,aAAa,EAAE,EAAE;oBACjB,WAAW,EAAE;wBACT,UAAU,EAAE,IAAI;wBAChB,eAAe,EAAE,kBAAkB;qBACtC;iBACJ,CAAC,CAAC;gBAEH,MAAM,CAAC,SAAS,CAAC;qBACZ,KAAK,EAAE;qBACP,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBACzB,OAAO,CAAC,MAAM,EAAE,CAAC;YACrB,CAAC,CAAC,CAAC;QACP,CAAC;QAED,iFAAiF;QACjF,kDAAkD;QAClD,YAAY,EAAE,UAAS,SAAS,EAAE,YAAY,EAAE,SAAS;YACrD,OAAO,SAAS,CAAC,QAAQ,CAAC,UAAS,KAAK;gBACpC,OAAO,CACH,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC;oBAC1D,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAS,YAAY;wBAC1C,mEAAmE;wBACnE,OAAO,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;oBAC3C,CAAC,CAAC,CACL,CAAC;YACN,CAAC,CAAC,CAAC;QACP,CAAC;QAED,oDAAoD;QACpD,eAAe,EAAE,UAAS,KAAK;YAC3B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,oBAAoB,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACtE,CAAC;QAED,0BAA0B;QAC1B,eAAe,EAAE;YACb,OAAO,kBACH,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC;gBACxB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC;gBAC9B,CAAC,CAAC,UAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAG,CAC9C,CAAC;QACP,CAAC;QAED,6BAA6B;QAC7B,kBAAkB,EAAE;YAChB,IAAM,UAAU,GAAG;gBACf;oBACI,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC;oBACjC,IAAI,EAAE,WAAW;iBACpB;gBACD;oBACI,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC;oBAC5B,IAAI,EAAE,gBACF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC;wBACxB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC;wBAC9B,CAAC,CAAC,UAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAG,CAC9C;iBACL;aACJ,CAAC;YACF,IAAI,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC,YAAY,EAAE,EAAE;gBACzD,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,eAAe;aAC3C;YACD,OAAO,UAAU,CAAC;QACtB,CAAC;QAED,wEAAwE;QACxE,4BAA4B,EAAE,UAAS,CAAC;YACpC,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;QAC/B,CAAC;QAED,+EAA+E;QAC/E,wCAAwC;QACxC,wBAAwB,EAAE,UAAS,aAAa,EAAE,YAAY;YAC1D,aAAa,CAAC,GAAG,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;YAE5C,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,IAAM,WAAW,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;YAElE,IAAI,WAAW,EAAE;gBACb,WAAW,CAAC,IAAI,CAAC,UAAS,cAAc;oBACpC,IAAM,SAAS,GAAG,IAAI,oBAAoB,CAAC,cAAc,CAAC,CAAC;oBAC3D,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;oBACxD,IAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,SAAS,CAClF,EAAE,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CACxB,CAAC;oBACF,SAAS;wBACL,SAAS;6BACJ,GAAG,CAAC,OAAO,CAAC;6BACZ,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC;6BACrB,GAAG,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;gBAC3C,CAAC,CAAC,CAAC;aACN;YAED,OAAO,WAAW,CAAC;QACvB,CAAC;QAED,uFAAuF;QACvF,kEAAkE;QAClE,kBAAkB,EAAE,CAAC,CAAC,QAAQ,CAAC,UAAS,CAAC;YACrC,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,IAAM,mBAAmB,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;iBACvC,OAAO,CAAC,SAAS,CAAC;iBAClB,IAAI,CAAC,IAAI,CAAC,CAAC;YAChB,IAAM,aAAa,GAAG,IAAI,CAAC,KAAK;iBAC3B,GAAG,CAAC,OAAO,CAAC;iBACZ,SAAS,CAAC,EAAE,UAAU,EAAE,mBAAmB,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC/D,IAAM,OAAO,GAAS,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,MAAM,CAAE,CAAC,eAAe,EAAE,CAAC;YAC1E,IAAM,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;iBAC1B,OAAO,CAAC,MAAM,CAAC;iBACf,IAAI,CAAC,wBAAwB,CAAC,CAAC;YACpC,IAAI,YAAY,GAAG,QAAQ,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;YACvD,IAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACrE,IAAM,gBAAgB,GAClB,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;YACzE,IAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC,CAAC;YAEzF,YAAY;gBACR,YAAY,GAAG,CAAC,IAAI,YAAY,GAAG,gBAAgB;oBAC/C,CAAC,CAAC,YAAY;oBACd,CAAC,CAAC,gBAAgB,IAAI,gBAAgB,CAAC;YAE/C,YAAY;gBACR,CAAC,CAAC,gBAAgB,IAAI,YAAY,GAAG,gBAAgB,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,YAAY,CAAC;YAE5F,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAEzB,IAAI,YAAY,KAAK,gBAAgB,EAAE;gBACnC,OAAO;aACV;YAED,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAEhD,IAAM,YAAY,GAAG,IAAI,CAAC,wBAAwB,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;YAEhF,IAAI,CAAC,YAAY,EAAE;gBACf,OAAO;aACV;YAED,YAAY,CAAC,MAAM,CAAC;gBAChB,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACP,CAAC,EAAE,GAAG,CAAC;QAEP,uCAAuC;QACvC,4BAA4B,EAAE,SAAS,4BAA4B,CAAC,CAAC;YACjE,IAAI,CAAC,qBAAqB,CACtB,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;iBACX,OAAO,CAAC,WAAW,CAAC;iBACpB,IAAI,CAAC,IAAI,CAAC,CAClB,CAAC;QACN,CAAC;QACD,mBAAmB;YACf,IAAM,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,6CAA6C,CAAC,CAAC;YACrF,IAAM,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,4CAA4C,CAAC,CAAC;YACtF,IAAM,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC;YACvD,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,IAAI,WAAW,GAAG,IAAI,CAAC;YACvB,OAAO,UAAU,GAAG,gBAAgB,IAAI,WAAW,EAAE;gBACjD,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;oBAC5D,WAAW,GAAG,KAAK,CAAC;iBACvB;gBACD,UAAU,EAAE,CAAC;aAChB;YACD,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;YAC9C,iBAAiB,CAAC,IAAI,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;QACpD,CAAC;QACD,aAAa,YAAC,EAAE,EAAE,KAAK;YACnB,IAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAY,EAAE,MAAG,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACzE,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QACpC,CAAC;QAED,gCAAgC;QAChC,qBAAqB,EAAE,UAAS,GAAG;YAC/B,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAE/B,IAAI,GAAG,EAAE;gBACL,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,GAAG,CAAC,CAAC;gBACpF,IAAI,CAAC,mBAAmB,EAAE,CAAC;aAC9B;QACL,CAAC;QAED,gCAAgC;QAChC,qBAAqB,EAAE,UAAS,GAAG;YAC/B,IAAI,GAAG,EAAE;gBACL,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBACzB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aACpC;QACL,CAAC;QAED,kCAAkC;QAClC,uBAAuB,EAAE,UAAS,GAAG;YACjC,IAAI,GAAG,EAAE;gBACL,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC1B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;aACrC;QACL,CAAC;QAED,yFAAyF;QACzF,kCAAkC;QAClC,2FAA2F;QAC3F,8CAA8C;QAC9C,uBAAuB,EAAE;YACrB,IAAI,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC;YAC7B,IAAM,iBAAiB,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,UAAU,CAAC;YACf,IAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;YAEjC,IAAI,iBAAiB,KAAK,CAAC,CAAC,EAAE;gBAC1B,UAAU,GAAG,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAE9B,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE;oBACpB,EAAE,GAAG,KAAG,UAAY,CAAC;iBACxB;aACJ;YAED,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;gBAC/B,iFAAiF;gBACjF,IAAM,WAAW,GAAG,EAAE,CAAC,SAAS,CAC5B,IAAI,CAAC,MAAM,CAAC,MAAM,EAClB,iBAAiB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAC3D,CAAC;gBACF,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC;gBACvD,IAAM,qBAAqB,GAAG,KAAK;qBAC9B,eAAe,EAAE;qBACjB,SAAS,CAAC,EAAE,UAAU,EAAE,WAAW,EAAE,CAAC,CAAC;gBAC5C,IAAM,KAAK,GAAG,qBAAqB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAEjD,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;oBAClB,qBAAqB,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,yBAAyB,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC5E;gBAED,IAAI,CAAC,KAAK,GAAG,qBAAqB,CAAC;gBAEnC,QAAQ,CAAC,OAAO,EAAE,CAAC;aACtB;iBAAM;gBACH,IAAI,CAAC,KAAK,GAAG,IAAI,gBAAgB,EAAE,CAAC;gBACpC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;gBAEjC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;aACjC;YAED,OAAO,QAAQ,CAAC;QACpB,CAAC;QAED,UAAU,EAAE;YACR,UAAU,EAAE;gBACR,OAAO,IAAI,CAAC,UAAU,CAAC;YAC3B,CAAC;YACD,4BAA4B,EAAE;gBAC1B,IAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBAC9C,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;gBAEtD,OAAO,IAAI,sBAAsB,CAAC;oBAC9B,SAAS,EAAE,0BAA0B;oBACrC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM;oBAC1C,WAAW,EAAE,IAAI;oBACjB,gBAAgB,EAAE;wBACd,WAAW,EAAE,IAAI,CAAC,WAAW;wBAC7B,gBAAgB,EAAE,IAAI;wBACtB,gBAAgB,EAAE,IAAI;qBACzB;iBACJ,CAAC,CAAC;YACP,CAAC;SACJ;QAED,gEAAgE;QAChE,UAAU,EAAE;YACR,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACtC,IAAM,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,YAAY,CAAC;YAEvE,0CAA0C;YAC1C,OAAO;gBACH,qCAAqC;gBACrC,cAAc,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,kBAAkB,CAAC;gBAC3D,uCAAuC;gBACvC,gBAAgB,EAAE,kBAAkB;gBACpC,0BAA0B;gBAC1B,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC;gBAC5B,+BAA+B;gBAC/B,QAAQ,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC;gBAC1B,kCAAkC;gBAClC,WAAW,EAAE,KAAK,CAAC,MAAM;gBACzB,iCAAiC;gBACjC,UAAU,EAAE,KAAK,CAAC,MAAM,KAAK,CAAC;aACjC,CAAC;QACN,CAAC;KACJ,CAAC,CAAC","file":"ProductList.Details.View.js","sourcesContent":["/*\n\t© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"ProductList.Details.View\"/>\n\nimport * as _ from 'underscore';\nimport '../../../Commons/BackboneExtras/JavaScript/Backbone.View.render';\nimport * as product_list_details_tpl from 'product_list_details.tpl';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\nimport { ListHeaderView } from '../../../Commons/ListHeader/JavaScript/ListHeader.View';\n\nimport ProductListItemCollection = require('../../../Commons/ProductList/JavaScript/ProductList.Item.Collection');\nimport ProductListModel = require('../../../Commons/ProductList/JavaScript/ProductList.Model');\nimport ProductListListsView = require('./ProductList.Lists.View');\nimport ProductListAddedToCartView = require('./ProductList.AddedToCart.View');\nimport ProductListItemEditView = require('../../../Advanced/ProductListOnline/JavaScript/ProductList.Item.Edit.View');\nimport ProductListItemModel = require('../../../Commons/ProductList/JavaScript/ProductList.Item.Model');\nimport ProductListControlView = require('../../../Commons/ProductList/JavaScript/ProductList.Control.View');\nimport ProductListDisplayFullView = require('./ProductList.DisplayFull.View');\nimport ProductListBulkActionsView = require('./ProductList.BulkActions.View');\nimport BackboneCollectionView = require('../../../Commons/Backbone.CollectionView/JavaScript/Backbone.CollectionView');\nimport LiveOrderModel = require('../../../Commons/LiveOrder/JavaScript/LiveOrder.Model');\nimport Handlebars = require('../../../Commons/Utilities/JavaScript/Handlebars');\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\n\n// @class ProductList.Details.View @extends Backbone.View\nexport = BackboneView.extend({\n    template: product_list_details_tpl,\n\n    className: 'ProductListDetailsView',\n\n    attributes: {\n        id: 'WishlistDetail',\n        class: 'ProductListDetailsView'\n    },\n\n    events: {\n        // items events\n        'click [data-action=\"add-to-cart\"]': 'addItemToCartHandler',\n        'click [data-action=\"add-items-to-cart\"]': 'addItemsToCartBulkHandler',\n\n        'click [data-action=\"delete-items\"]': 'deleteItemsHandler',\n\n        'click [data-action=\"edit-item\"]': 'askEditListItem',\n        'click [data-action=\"update-item-quantity\"]': 'updateListItemQuantity',\n        'click [data-action=\"update-item-quantity-max\"]': 'updateListItemMaxQuantity',\n        'click [data-ui-action=\"show-edit-notes\"]': 'showEditNotes',\n        'click [data-ui-action=\"cancel-edit-notes-form\"]': 'showViewNotes',\n        'click [data-action=\"add-list-to-cart\"]': 'addListToCart_',\n\n        'click [data-action=\"edit-list\"]': 'editListHandler',\n\n        'change [data-action=\"change-quantity\"]': 'updateItemQuantity',\n        'keyup [data-action=\"change-quantity\"]': 'updateItemQuantity',\n        'submit [data-action=\"update-quantity-item-list\"]': 'updateItemQuantityFormSubmit',\n        'click [data-action=\"product-list-item\"]': 'toggleProductListItemHandler'\n    },\n\n    sortOptions: [\n        {\n            value: 'sku',\n            name: Utils.translate('Sort by name'),\n            selected: true\n        },\n        {\n            value: 'price',\n            name: Utils.translate('Sort by price')\n        },\n        {\n            value: 'created',\n            name: Utils.translate('Sort by date Added')\n        },\n        {\n            value: 'priority',\n            name: Utils.translate('Sort by priority')\n        }\n    ],\n\n    initialize: function(options) {\n        this.options = options;\n        this.routerArguments = options.routerArguments;\n        this.application = options.application;\n        this.cart = LiveOrderModel.getInstance();\n\n        const productList = this.application.getConfig().productList || {};\n        this.displayOptions = productList.templates;\n        this.prefix = 'tmpl_';\n\n        this.on('afterCompositeViewRender', function() {\n            const self = this;\n            const out_of_stock_items = [];\n            const items = this.model.get('items');\n            const is_single_list = this.application.ProductListModule.Utils.isSingleList();\n\n            items.each(function(item) {\n                if (!item.get('item').get('_isPurchasable')) {\n                    out_of_stock_items.push(item);\n                }\n\n                if (!is_single_list) {\n                    self.renderMove(item);\n                }\n            });\n\n            let warning_message = null;\n\n            if (out_of_stock_items.length === 1) {\n                warning_message = Utils.translate(\n                    '$(0) of $(1) items in your list is currently not available for purchase. If you decide to add the list to your cart, only available products will be added.',\n                    out_of_stock_items.length,\n                    items.length\n                );\n            } else if (out_of_stock_items.length > 1) {\n                warning_message = Utils.translate(\n                    '$(0) of $(1) items in your list are currently not available for purchase. If you decide to add the list to your cart, only available products will be added.',\n                    out_of_stock_items.length,\n                    items.length\n                );\n            }\n\n            if (warning_message) {\n                self.showWarningMessage(warning_message);\n            }\n        });\n    },\n\n    beforeShowContent: function beforeShowContent() {\n        this.router_args_id = this.routerArguments[0];\n        this.options.params = Utils.parseUrlOptions(this.routerArguments[1]);\n\n        return this._loadProductListDetails();\n    },\n\n    showContent: function showContent() {\n        this.title = this.model.get('name');\n        this.collection = this.model.get('items');\n        this.collection.productListId = this.model.get('internalid');\n        this.setupListHeader(this.collection);\n        this.collection.on('reset', jQuery.proxy(this, 'render'));\n\n        return BackboneView.prototype.showContent.apply(this, arguments);\n    },\n\n    // @method setupListHeader @param {Backbone.Collection} collection\n    setupListHeader: function(collection) {\n        const self = this;\n\n        this.listHeader = new ListHeaderView({\n            view: this,\n            application: this.application,\n            avoidFirstFetch: true,\n            headerMarkup: function() {\n                const view = new ProductListBulkActionsView({ model: self.model });\n                view.render();\n                return new Handlebars.SafeString(view.$el.html());\n            },\n\n            hideFilterExpandable: function() {\n                return this.collection.length < 2;\n            },\n            selectable: true,\n            collection: collection,\n            sorts: this.sortOptions\n        });\n    },\n\n    // @method addListToCart_ add this list to cart handler\n    addListToCart_: function() {\n        this.addListToCart(this.model);\n    },\n\n    // @method addListToCart\n    addListToCart: ProductListListsView.prototype.addListToCart,\n\n    // @method addItemToCartHandler Add a particular item into the cart\n    addItemToCartHandler: function(e) {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const self = this;\n        const selected_product_list_item_id = self\n            .$(e.target)\n            .closest('article')\n            .data('id');\n        const selected_product_list_item = self.model.get('items').findWhere({\n            internalid: selected_product_list_item_id.toString()\n        });\n        const selected_item = selected_product_list_item.get('item');\n        const selected_item_internalid = selected_item.internalid;\n        const item_detail = selected_product_list_item.getItemForCart(\n            selected_item_internalid,\n            selected_product_list_item.get('quantity'),\n            selected_item.itemoptions_detail,\n            selected_product_list_item.getOptionsArray()\n        );\n\n        const add_to_cart_promise = this.addItemToCart(item_detail);\n        const whole_promise = jQuery\n            .when(add_to_cart_promise)\n            .then(jQuery.proxy(this, 'showConfirmationHelper', selected_product_list_item));\n\n        if (whole_promise) {\n            this.disableElementsOnPromise(\n                whole_promise,\n                `article[data-item-id=\"${selected_item_internalid}\"] a, article[data-item-id=\"${selected_item_internalid}\"] button`\n            );\n        }\n    },\n\n    // @method _getSelection @return {items:ProductList.Item.Collection,\n    // items_for_cart:Array<Backbone.Model>,button_selector:String}\n    _getSelection: function() {\n        const items = [];\n        const button_selector = [];\n\n        // Filter items for bulk operation\n        _.each(this.collection.models, function(pli: any) {\n            // irrelevant items: no-op\n            if (pli.get('checked') !== true) {\n                return;\n            }\n\n            items.push(pli);\n\n            const item_internal_id = pli.getItemId();\n            button_selector.push(\n                `article[data-item-id=\"${item_internal_id}\"] a, article[data-item-id=\"${item_internal_id}\"] button`\n            );\n        });\n        return {\n            items: new ProductListItemCollection(items),\n            button_selector: button_selector\n        };\n    },\n\n    // @method addItemsToCartBulkHandler\n    addItemsToCartBulkHandler: function(e) {\n        e.preventDefault();\n\n        const self = this;\n        const selected_models = this._getSelection();\n\n        // no items selected: no opt\n        if (selected_models.items.length < 1) {\n            return;\n        }\n\n        const button_selector = selected_models.button_selector.join(',');\n        // add items to cart\n        const add_to_cart_promise = this.cart.addProducts(selected_models.items.models);\n\n        add_to_cart_promise.then(function() {\n            self.unselectAll();\n            self.showConfirmationHelper();\n        });\n\n        this.disableElementsOnPromise(add_to_cart_promise, button_selector);\n    },\n\n    // @method deleteItemsHandler\n    deleteItemsHandler: function(e) {\n        e.preventDefault();\n\n        const self = this;\n        const selected_models = this._getSelection();\n        const delete_promises = [];\n\n        if (selected_models.items.length < 1) {\n            return;\n        }\n\n        // there are two collections with the same information this.model and the one on application\n        // should remove the item on both\n        const app_item_list: any = _.findWhere(\n            self.application.ProductListModule.Utils.getProductLists().models,\n            { id: self.model.id }\n        );\n\n        _.each([].concat(selected_models.items.models), function(item) {\n            // fix already used in \"deleteListItem\"\n            item.url = ProductListItemModel.prototype.url;\n\n            app_item_list && app_item_list.get('items').remove(item);\n\n            delete_promises.push(item.destroy().promise());\n        });\n\n        jQuery.when.apply(jQuery, delete_promises).then(function() {\n            self.render();\n            self.showConfirmationMessage(\n                Utils.translate('The selected items were removed from your product list')\n            );\n        });\n    },\n\n    // @method selectAll this is called from the ListHeader when you check select all.\n    selectAll: function() {\n        _.each(this.collection.models, function(item: any) {\n            item.set('checked', true);\n        });\n        this.render();\n    },\n\n    // @method unselectAll\n    unselectAll: function() {\n        _.each(this.collection.models, function(item: any) {\n            item.set('checked', false);\n        });\n        this.render();\n    },\n\n    // @method showConfirmationHelper\n    showConfirmationHelper: function(selected_item) {\n        this.showConfirmationMessage(\n            Utils.translate(\n                'Good! The items were successfully added to your cart. You can continue to <a href=\"#\" data-touchpoint=\"viewcart\">view cart and checkout</a>'\n            )\n        );\n\n        // selected item may be undefined\n        if (_.isUndefined(selected_item) === true) {\n            return;\n        }\n\n        this.addedToCartView = new ProductListAddedToCartView({\n            application: this.application,\n            parentView: this,\n            item: selected_item\n        });\n\n        this.application.getLayout().showInModal(this.addedToCartView);\n    },\n\n    // @method addItemToCart Adds the item to the cart\n    addItemToCart: function(item) {\n        return this.cart.addItem(item);\n    },\n\n    // @method deleteListItem Remove an product list item from the current list\n    // @param {ProductList.Item.Model} product_list_item @param {Function} successFunc\n    deleteListItem: function(product_list_item, successFunc) {\n        this.model.get('items').remove(product_list_item);\n        product_list_item.url = ProductListItemModel.prototype.url;\n\n        const promise = product_list_item.destroy();\n\n        promise &&\n            successFunc &&\n            promise.done(function() {\n                successFunc();\n            });\n    },\n\n    // @method askEditListItem Edit a product list item from the current list\n    askEditListItem: function(e) {\n        e.stopPropagation();\n\n        const product_list_itemid = this.$(e.target)\n            .closest('[data-id]')\n            .data('id');\n        const selected_item = this.model.get('items').get(product_list_itemid);\n        const editView = new ProductListItemEditView({\n            application: this.application,\n            parentView: this,\n            model: selected_item,\n            title: Utils.translate('Edit Item'),\n            confirm_edit_method: 'editListItemHandler'\n        });\n\n        this.application.getLayout().showInModal(editView);\n    },\n\n    // @method updateListItemQuantity Updates product list item quantity from the current list\n    updateListItemQuantity: function(e) {\n        this.updateListItemMinMaxQuantity(e, '_minimumQuantity');\n    },\n\n    updateListItemMaxQuantity: function(e) {\n        this.updateListItemMinMaxQuantity(e, '_maximumQuantity');\n    },\n    updateListItemMinMaxQuantity: function(e, minMax) {\n        e.preventDefault();\n\n        const self = this;\n        const product_list_itemid = this.$(e.target).data('id');\n        const selected_pli = this.model\n            .get('items')\n            .findWhere({ internalid: product_list_itemid.toString() });\n        const quantity = selected_pli.get('item').get(minMax);\n        const promise = this.updateItemQuantityHelper(selected_pli, quantity);\n\n        promise &&\n            promise.done(function() {\n                self.render();\n            });\n    },\n\n    // @method editListItemHandler Product list item edition handler\n    editListItemHandler: function(new_attributes) {\n        const new_model = new ProductListItemModel(new_attributes);\n        const products = this.model.get('items');\n        const original_model = products.get(new_attributes.internalid);\n        const original_model_index = products.indexOf(original_model);\n\n        this.model.get('items').remove(new_attributes.internalid, { silent: true });\n        this.model.get('items').add(new_model, { at: original_model_index });\n\n        this.render();\n    },\n\n    // @method getDisplayOption Retrieve the current (if any) items display option\n    getDisplayOption: function() {\n        const search = (this.options.params && this.options.params.display) || 'list';\n\n        return _(this.displayOptions).findWhere({\n            id: search\n        });\n    },\n\n    // @method renderMove Renders the move control for a product list\n    // @param {ProductList.Model} product_list_model\n    renderMove: function(product_list_model) {\n        const self = this;\n        const container = this.$(`[data-id=\"${product_list_model.id}\"]`).find(\n            '[data-type=\"productlist-control-move\"]'\n        );\n        self.application.ProductListModule.Utils.getProductListsPromise().then(() => {\n            const control = new ProductListControlView({\n                collection: self.getMoveLists(\n                    self.application.ProductListModule.Utils.getProductLists(),\n                    self.model,\n                    product_list_model\n                ),\n                product: product_list_model,\n                application: self.application,\n                countedClicks: {},\n                moveOptions: {\n                    parentView: self,\n                    productListItem: product_list_model\n                }\n            });\n\n            jQuery(container)\n                .empty()\n                .append(control.$el);\n            control.render();\n        });\n    },\n\n    // @method getMoveLists Filters all lists so it does not include the current list\n    // and the lists where the item is already present\n    getMoveLists: function(all_lists, current_list, list_item): boolean {\n        return all_lists.filtered(function(model) {\n            return (\n                model.get('internalid') !== current_list.get('internalid') &&\n                !model.get('items').find(function(product_item) {\n                    // return product_item.get('item').id === list_item.get('item').id;\n                    return product_item.isEqual(list_item);\n                })\n            );\n        });\n    },\n\n    // @method editListHandler Shows the edit modal view\n    editListHandler: function(event) {\n        event.preventDefault();\n        ProductListListsView.prototype.editList.apply(this, [this.model]);\n    },\n\n    // @method getSelectedMenu\n    getSelectedMenu: function() {\n        return `productlist_${\n            this.model.get('internalid')\n                ? this.model.get('internalid')\n                : `tmpl_${this.model.get('templateid')}`\n        }`;\n    },\n\n    // @method getBreadcrumbPages\n    getBreadcrumbPages: function() {\n        const breadcrumb = [\n            {\n                text: Utils.translate('Wishlist'),\n                href: '/wishlist'\n            },\n            {\n                text: this.model.get('name'),\n                href: `/wishlist/${\n                    this.model.get('internalid')\n                        ? this.model.get('internalid')\n                        : `tmpl_${this.model.get('templateid')}`\n                }`\n            }\n        ];\n        if (this.application.ProductListModule.Utils.isSingleList()) {\n            breadcrumb.splice(0, 1); // remove first\n        }\n        return breadcrumb;\n    },\n\n    // @method updateItemQuantityFormSubmit Updates quantity on form submit.\n    updateItemQuantityFormSubmit: function(e) {\n        e.preventDefault();\n        this.updateItemQuantity(e);\n    },\n\n    // @method updateItemQuantityHelper Helper function. Used in updateItemQuantity\n    // and updateListItemQuantity functions.\n    updateItemQuantityHelper: function(selected_item, new_quantity) {\n        selected_item.set('quantity', new_quantity);\n\n        const self = this;\n        const edit_result = selected_item.save(null, { validate: false });\n\n        if (edit_result) {\n            edit_result.done(function(new_attributes) {\n                const new_model = new ProductListItemModel(new_attributes);\n                self.model.get('items').add(new_model, { merge: true });\n                const item_list = self.application.ProductListModule.Utils.getProductLists().findWhere(\n                    { id: self.model.id }\n                );\n                item_list &&\n                    item_list\n                        .get('items')\n                        .get(selected_item.id)\n                        .set('quantity', new_quantity);\n            });\n        }\n\n        return edit_result;\n    },\n\n    // @method updateItemQuantity executes on blur of the quantity input. Finds the item in\n    // the product list, updates its quantity and saves the list model\n    updateItemQuantity: _.debounce(function(e) {\n        e.preventDefault();\n\n        const product_list_itemid = this.$(e.target)\n            .closest('article')\n            .data('id');\n        const selected_item = this.model\n            .get('items')\n            .findWhere({ internalid: product_list_itemid.toString() });\n        const options = (<any>jQuery(e.target).closest('form')).serializeObject();\n        const $input = jQuery(e.target)\n            .closest('form')\n            .find('[name=\"item_quantity\"]');\n        let new_quantity = parseInt(options.item_quantity, 10);\n        const current_quantity = parseInt(selected_item.get('quantity'), 10);\n        const minimum_quantity =\n            parseInt(selected_item.get('item').get('_minimumQuantity'), 10) || 0;\n        const maximum_quantity = parseInt(selected_item.get('item').get('_maximumQuantity'), 10);\n\n        new_quantity =\n            new_quantity > 0 && new_quantity > minimum_quantity\n                ? new_quantity\n                : minimum_quantity || current_quantity;\n\n        new_quantity =\n            !!maximum_quantity && new_quantity > maximum_quantity ? maximum_quantity : new_quantity;\n\n        $input.val(new_quantity);\n\n        if (new_quantity === current_quantity) {\n            return;\n        }\n\n        $input.val(new_quantity).prop('disabled', true);\n\n        const edit_promise = this.updateItemQuantityHelper(selected_item, new_quantity);\n\n        if (!edit_promise) {\n            return;\n        }\n\n        edit_promise.always(function() {\n            $input.prop('disabled', false);\n        });\n    }, 600),\n\n    // @method toggleProductListItemHandler\n    toggleProductListItemHandler: function toggleProductListItemHandler(e) {\n        this.toggleProductListItem(\n            jQuery(e.target)\n                .closest('[data-id]')\n                .data('id')\n        );\n    },\n    setButtonToDisabled() {\n        const addToCartButton = this.$el.find('.product-list-bulk-actions-button-addtocart');\n        const addToCartExpander = this.$el.find('.product-list-bulk-actions-button-expander');\n        const collectionLength = this.collection.models.length;\n        let modelIndex = 0;\n        let setDisabled = true;\n        while (modelIndex < collectionLength && setDisabled) {\n            if (this.collection.models[modelIndex].get('checked') === true) {\n                setDisabled = false;\n            }\n            modelIndex++;\n        }\n        addToCartButton.attr('disabled', setDisabled);\n        addToCartExpander.attr('disabled', setDisabled);\n    },\n    checkCheckbox(id, value) {\n        const checkbox = this.$el.find(`[data-id=${id}]`).find('input:checkbox');\n        checkbox.prop('checked', value);\n    },\n\n    // @method toggleProductListItem\n    toggleProductListItem: function(pli) {\n        pli = this.collection.get(pli);\n\n        if (pli) {\n            this[pli.get('checked') ? 'unselectProductListItem' : 'selectProductListItem'](pli);\n            this.setButtonToDisabled();\n        }\n    },\n\n    // @method toggleProductListItem\n    selectProductListItem: function(pli) {\n        if (pli) {\n            pli.set('checked', true);\n            this.checkCheckbox(pli.id, true);\n        }\n    },\n\n    // @method unselectProductListItem\n    unselectProductListItem: function(pli) {\n        if (pli) {\n            pli.set('checked', false);\n            this.checkCheckbox(pli.id, false);\n        }\n    },\n\n    // @method _loadProductListDetails resolve the Product list details routes that can be of\n    // form /wishlist/$(internalid) or\n    // /wishlist/tmpl_$(templateid) in the case the record doesn't exist yet (predefined lists)\n    // @param  {String} id @param {Object} options\n    _loadProductListDetails: function() {\n        let id = this.router_args_id;\n        const index_of_question = id.indexOf('?');\n        let internalid;\n        let deferred = jQuery.Deferred();\n\n        if (index_of_question !== -1) {\n            internalid = parseInt(id, 10);\n\n            if (!isNaN(internalid)) {\n                id = `${internalid}`;\n            }\n        }\n\n        if (id.indexOf(this.prefix) === 0) {\n            // then this is a predefined template that doesn't exist yet (without internalid)\n            const template_id = id.substring(\n                this.prefix.length,\n                index_of_question !== -1 ? index_of_question : id.length\n            );\n            const utils = this.application.ProductListModule.Utils;\n            const template_product_list = utils\n                .getProductLists()\n                .findWhere({ templateId: template_id });\n            const items = template_product_list.get('items');\n\n            if (_.isArray(items)) {\n                template_product_list.set('items', new ProductListItemCollection(items));\n            }\n\n            this.model = template_product_list;\n\n            deferred.resolve();\n        } else {\n            this.model = new ProductListModel();\n            this.model.set('internalid', id);\n\n            deferred = this.model.fetch();\n        }\n\n        return deferred;\n    },\n\n    childViews: {\n        ListHeader: function() {\n            return this.listHeader;\n        },\n        'ProductList.DynamicDisplay': function() {\n            const displayOption = this.getDisplayOption();\n            const rows = parseInt(displayOption.columns, 10) || 3;\n\n            return new BackboneCollectionView({\n                childView: ProductListDisplayFullView,\n                collection: this.model.get('items').models,\n                viewsPerRow: rows,\n                childViewOptions: {\n                    application: this.application,\n                    show_edit_action: true,\n                    show_move_action: true\n                }\n            });\n        }\n    },\n\n    // @method getContext @return {ProductList.Details.View.Context}\n    getContext: function() {\n        const items = this.model.get('items');\n        const is_type_predefined = this.model.get('typeName') === 'predefined';\n\n        // @class ProductList.Details.View.Context\n        return {\n            // @property {Boolean} showListHeader\n            showListHeader: !(items.length === 0 && is_type_predefined),\n            // @property {Boolean} isTypePredefined\n            isTypePredefined: is_type_predefined,\n            // @property {String} name\n            name: this.model.get('name'),\n            // @property {Boolean} hasItems\n            hasItems: items.length > 0,\n            // @property {Integer} itemsLength\n            itemsLength: items.length,\n            // @property {Boolean} hasOneItem\n            hasOneItem: items.length === 1\n        };\n    }\n});\n"]}