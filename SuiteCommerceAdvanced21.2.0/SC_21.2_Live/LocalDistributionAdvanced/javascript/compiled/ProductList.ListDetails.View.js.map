{"version":3,"sources":["ProductList.ListDetails.View.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAUF,OAAS,YAAY,CAAC,MAAM,CAAC;QACzB,QAAQ,EAAE,6BAA6B;QAEvC,oEAAoE;QACpE,UAAU,EAAE;YACR,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YAChC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAChC,IAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAElD,IAAM,oBAAoB,GAAG,IAAI,CAAC,0CAA0C,EAAE,CAAC;YAE/E,IAAM,iBAAiB,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,UAAS,EAAO;gBAC7D,OAAO,IAAI,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC;YAChB,IAAM,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAEjD,8CAA8C;YAC9C,IAAM,MAAM,GAAG;gBACX,gCAAgC;gBAChC,SAAS,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC;gBAC9B,gCAAgC;gBAChC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC;gBAClC,yCAAyC;gBACzC,kBAAkB,EAAE,IAAI,CAAC,gBAAgB,EAAE;gBAC3C,gCAAgC;gBAChC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC;gBAClC,uCAAuC;gBACvC,gBAAgB,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,YAAY;gBACvD,8BAA8B;gBAC9B,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;gBAC1B,+BAA+B;gBAC/B,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM;gBACxB,kCAAkC;gBAClC,WAAW,EAAE,KAAK,CAAC,MAAM;gBACzB,iCAAiC;gBACjC,UAAU,EAAE,KAAK,CAAC,MAAM,KAAK,CAAC;gBAC9B,kCAAkC;gBAClC,WAAW,EAAE,KAAK;gBAClB,wCAAwC;gBACxC,kBAAkB,EAAE,IAAI;gBACxB,yCAAyC;gBACzC,mBAAmB,EAAE,IAAI;gBACzB,yCAAyC;gBACzC,kBAAkB,EAAE,eAAe,CAAC,MAAM,GAAG,CAAC;gBAC9C,8CAA8C;gBAC9C,uBAAuB,EAAE,oBAAoB,CAAC,MAAM,GAAG,CAAC;gBACxD,sCAAsC;gBACtC,gBAAgB,EAAE,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC;gBAC9C,qCAAqC;gBACrC,eAAe,EAAE,gBAAgB;gBACjC,yCAAyC;gBACzC,kBAAkB,EAAE,CAAC,CAAC,gBAAgB;gBACtC,oCAAoC;gBACpC,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,SAAS;aACrD,CAAC;YAEF,IAAI,iBAAiB,EAAE;gBACnB,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACrD,MAAM,CAAC,kBAAkB,GAAG,iBAAiB,CAAC,WAAW,EAAE,CAAC;gBAC5D,MAAM,CAAC,mBAAmB,GAAG,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;aAC3E;YACD,OAAO,MAAM,CAAC;QAClB,CAAC;KACJ,CAAC,CAAC","file":"ProductList.ListDetails.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"ProductList.ListDetails.View\"/>\n\nimport * as _ from 'underscore';\nimport * as product_list_list_details_tpl from 'product_list_list_details.tpl';\n\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\n\n// @class ProductList.ListDetails.View @extends Backbone.View\nexport = BackboneView.extend({\n    template: product_list_list_details_tpl,\n\n    // @method getContext @return {ProductList.ListDetails.View.Context}\n    getContext: function() {\n        const list = this.options.model;\n        const items = list.get('items');\n        const outOfStockItems = list.getOutOfStockItems();\n\n        const minimumQuantityItems = list.getNotPurchasableItemsDueToMinimumQuantity();\n\n        const last_product_item = _.sortBy(items.models, function(it: any) {\n            return new Date(it.get('created'));\n        }).reverse()[0];\n        const list_description = list.get('description');\n\n        // @class ProductList.ListDetails.View.Context\n        const result = {\n            // @property {Boolean} isChecked\n            isChecked: list.get('checked'),\n            // @property {String} internalId\n            internalId: list.get('internalid'),\n            // @property {Boolean} isAvailableForCart\n            isAvailableForCart: list.canBeAddedToCart(),\n            // @property {String} templateId\n            templateId: list.get('templateId'),\n            // @property {Boolean} isTypePredefined\n            isTypePredefined: list.get('typeName') === 'predefined',\n            // @property {String} listName\n            listName: list.get('name'),\n            // @property {Boolean} hasItems\n            hasItems: !!items.length,\n            // @property {Integer} itemsLength\n            itemsLength: items.length,\n            // @property {Boolean} hasOneItem\n            hasOneItem: items.length === 1,\n            // @property {Boolean} hasLastItem\n            hasLastItem: false,\n            // @property {String} lastProductItemUrl\n            lastProductItemUrl: null,\n            // @property {String} lastItemDisplayName\n            lastItemDisplayName: null,\n            // @property {Boolean} hasOutOfStockItems\n            hasOutOfStockItems: outOfStockItems.length > 0,\n            // @property {Boolean} hasMinimumQuantityItems\n            hasMinimumQuantityItems: minimumQuantityItems.length > 0,\n            // @property {String} lastModifiedDate\n            lastModifiedDate: list.get('lastmodifieddate'),\n            // @property {String} listDescription\n            listDescription: list_description,\n            // @property {Boolean} hasListDescription\n            hasListDescription: !!list_description,\n            // @property {Boolean} isListPrivate\n            isListPrivate: list.get('scopeName') === 'private'\n        };\n\n        if (last_product_item) {\n            result.hasLastItem = !!last_product_item.get('item');\n            result.lastProductItemUrl = last_product_item.getFullLink();\n            result.lastItemDisplayName = last_product_item.get('item').get('_name');\n        }\n        return result;\n    }\n});\n"]}