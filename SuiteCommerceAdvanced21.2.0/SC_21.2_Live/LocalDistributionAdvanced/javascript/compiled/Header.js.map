{"version":3,"sources":["Header.ts"],"names":[],"mappings":"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","file":"Header.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Header\"/>\n\nimport { MyAccountMenu } from './MyAccountMenu';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport { Configuration } from '../../SCA/JavaScript/Configuration';\nimport { ProductListUtils } from '../../ProductListOnline/JavaScript/ProductList.Utils';\n\nexport function mountToApp(application): void {\n    const myAccountMenu = MyAccountMenu.getInstance();\n    const { siteSettings } = application.getConfig();\n    // Overview\n    if (\n        (!Utils.isPhoneDevice() && siteSettings.sitetype === 'STANDARD') ||\n        siteSettings.sitetype !== 'STANDARD'\n    ) {\n        myAccountMenu.addEntry({\n            id: 'home',\n            name: Utils.translate('Overview'),\n            url: 'overview',\n            index: 0\n        });\n    }\n\n    if (SC && SC.ENVIRONMENT && SC.ENVIRONMENT.subscriptions) {\n        myAccountMenu.addEntry({\n            id: 'subscriptions',\n            name: Utils.translate('Subscriptions'),\n            url: 'subscriptions-list',\n            index: 1,\n            permission: 'lists.listSubscriptions.1'\n        });\n    }\n    // Balance\n    myAccountMenu.addEntry({\n        name: Utils.translate('Billing'),\n        id: 'billing',\n        index: 3\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'billing',\n        id: 'balance',\n        name: Utils.translate('Account Balance'),\n        url: 'balance',\n        index: 1\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'billing',\n        id: 'invoices',\n        name: Utils.translate('Invoices'),\n        url: 'invoices',\n        index: 2,\n        permission: 'transactions.tranCustInvc.1'\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'billing',\n        id: 'transactionhistory',\n        name: Utils.translate('Transaction History'),\n        url: 'transactionhistory',\n        permissionOperator: 'OR',\n        permission:\n            'transactions.tranCustInvc.1, transactions.tranCustCred.1, transactions.tranCustPymt.1, transactions.tranCustDep.1, transactions.tranDepAppl.1',\n        index: 3\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'billing',\n        id: 'printstatement',\n        name: Utils.translate('Print a Statement'),\n        url: 'printstatement',\n        index: 4,\n        permission: 'transactions.tranStatement.2'\n    });\n    // Cases\n    if (SC && SC.ENVIRONMENT && SC.ENVIRONMENT.casesManagementEnabled) {\n        myAccountMenu.addEntry({\n            id: 'cases',\n            name: Utils.translate('Cases'),\n            index: 6,\n            permission: 'lists.listCase.2'\n        });\n        myAccountMenu.addSubEntry({\n            entryId: 'cases',\n            id: 'cases_all',\n            name: Utils.translate('Support Cases'),\n            url: 'cases',\n            index: 1\n        });\n        myAccountMenu.addSubEntry({\n            entryId: 'cases',\n            id: 'newcase',\n            name: Utils.translate('Submit New Case'),\n            url: 'newcase',\n            index: 2\n        });\n    }\n    const isSCISIntegrationEnabled = Configuration.get(\n        'siteSettings.isSCISIntegrationEnabled',\n        false\n    );\n    // Purchases\n    myAccountMenu.addEntry({\n        id: 'orders',\n        name: Utils.translate('Purchases'),\n        index: 2,\n        permission: isSCISIntegrationEnabled\n            ? 'transactions.tranPurchases.1,transactions.tranEstimate.1,transactions.tranPurchasesReturns.1'\n            : 'transactions.tranSalesOrd.1,transactions.tranEstimate.1,transactions.tranRtnAuth.1',\n        permissionOperator: 'OR'\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'orders',\n        id: 'purchases',\n        name: Utils.translate('Purchase History'),\n        url: 'purchases',\n        index: 1,\n        permission: isSCISIntegrationEnabled\n            ? 'transactions.tranFind.1,transactions.tranPurchases.1'\n            : 'transactions.tranFind.1,transactions.tranSalesOrd.1'\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'orders',\n        id: 'returns',\n        name: Utils.translate('Returns'),\n        url: 'returns',\n        index: 2,\n        permission: isSCISIntegrationEnabled\n            ? 'transactions.tranFind.1,transactions.tranPurchasesReturns.1'\n            : 'transactions.tranFind.1,transactions.tranRtnAuth.1'\n    });\n\n    const isStandalone = SC && SC.ENVIRONMENT && SC.ENVIRONMENT.standalone;\n    if (!isStandalone || (isStandalone && application.isReorderEnabled())) {\n        myAccountMenu.addSubEntry({\n            entryId: 'orders',\n            id: 'reorderitems',\n            name: Utils.translate('Reorder Items'),\n            url: 'reorderItems',\n            index: 4,\n            permission: isSCISIntegrationEnabled\n                ? 'transactions.tranFind.1,transactions.tranPurchases.1'\n                : 'transactions.tranFind.1,transactions.tranSalesOrd.1'\n        });\n    }\n    myAccountMenu.addSubEntry({\n        entryId: 'orders',\n        id: 'quotes',\n        name: Utils.translate('Quotes'),\n        url: 'quotes',\n        index: 5,\n        permission: 'transactions.tranFind.1,transactions.tranEstimate.1'\n    });\n    // Product list\n    const productListModule = new ProductListUtils(application);\n    if (productListModule.isProductListEnabled()) {\n        myAccountMenu.addEntry({\n            id: 'product_list_dummy',\n            name: productListModule.isSingleList()\n                ? Utils.translate('Loading list...')\n                : Utils.translate('Loading lists...'),\n            url: '',\n            index: 3\n        });\n    }\n    // Settings\n    myAccountMenu.addEntry({\n        id: 'settings',\n        name: Utils.translate('Settings'),\n        index: 5\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'settings',\n        id: 'profileinformation',\n        name: Utils.translate('Profile Information'),\n        url: 'profileinformation',\n        index: 1\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'settings',\n        id: 'emailpreferences',\n        name: Utils.translate('Email Preferences'),\n        url: 'emailpreferences',\n        index: 2\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'settings',\n        id: 'addressbook',\n        name: Utils.translate('Address Book'),\n        url: 'addressbook',\n        index: 3\n    });\n    myAccountMenu.addSubEntry({\n        entryId: 'settings',\n        id: 'paymentmethods',\n        name: Utils.translate('Credit Cards'),\n        url: 'paymentmethods',\n        index: 4\n    });\n    const isPaymentinstrumentACHEnabled = Configuration.get('paymentInstrumentACHEnabled');\n    if (isPaymentinstrumentACHEnabled) {\n        myAccountMenu.addSubEntry({\n            entryId: 'settings',\n            id: 'ach',\n            name: Utils.translate('ACH Payments'),\n            url: 'ach',\n            index: 5\n        });\n        myAccountMenu.addSubEntry({\n            entryId: 'settings',\n            id: 'updateyourpassword',\n            name: Utils.translate('Update Your Password'),\n            url: 'updateyourpassword',\n            index: 6\n        });\n    } else {\n        myAccountMenu.addSubEntry({\n            entryId: 'settings',\n            id: 'updateyourpassword',\n            name: Utils.translate('Update Your Password'),\n            url: 'updateyourpassword',\n            index: 5\n        });\n    }\n    const password_protected_site = SC.ENVIRONMENT.siteSettings.siteloginrequired === 'T';\n    const isLoggedIn = SC.ENVIRONMENT.siteSettings.is_logged_in;\n    if (productListModule.isProductListEnabled() && (!password_protected_site || isLoggedIn)) {\n        productListModule\n            .getProductListsPromise()\n            .done((): void => productListModule.updateProductListMenu());\n    }\n}\n"]}