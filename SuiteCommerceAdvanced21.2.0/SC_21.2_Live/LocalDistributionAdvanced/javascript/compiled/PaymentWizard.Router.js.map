{"version":3,"sources":["PaymentWizard.Router.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAWF,sDAAsD;IACtD,IAAM,mBAAmB,GAAQ,YAAY,CAAC,MAAM,CAAC;QACjD,IAAI,EAAE,iBAAiB;QAEvB,IAAI,EAAE,iBAAiB;QAEvB,iBAAiB,EAAE,SAAS,iBAAiB,CAAC,OAAO;YACjD,IAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YAE3D,QAAQ,CAAC,gBAAgB,CAAC;gBACtB,IAAI,EAAE,gBAAgB;gBACtB,MAAM,EAAE,OAAO,CAAC,MAAM;gBACtB,IAAI,EAAE,iBAAiB;gBACvB,eAAe,EAAE;oBACb,IAAI,EAAE,2BAA2B;oBACjC,WAAW,EAAE,wBAAwB;oBACrC,SAAS,EAAE,KAAK,CAAC,wCAAwC,CACrD,uCAAuC,CAC1C;iBACJ;aACJ,CAAC,CAAC;QACP,CAAC;QAED,kBAAkB;QAClB,OAAO,EAAE;YACL,IAAI,EAAE,CAAC,WAAW,CAAC,WAAW,CAAC,YAAY,CAAC,YAAY,GAAG,CAAC,EAAE;gBAC1D,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,cAAc,EAAE,CAAC;gBAE9C,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,MAAM,EAAE,CAAC;aACrC;YACD,OAAO,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QACjE,CAAC;QACD,sBAAsB;QACtB,WAAW,EAAE;YACT,OAAO,CACH,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;gBAC/D,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAC9E,CAAC;QACN,CAAC;KACJ,CAAC,CAAC;IAEH,OAAS,mBAAmB,CAAC","file":"PaymentWizard.Router.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"PaymentWizard.Router\"/>\n\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\n\nimport WizardRouter = require('../../Wizard/JavaScript/Wizard.Router');\nimport PaymentWizardView = require('./PaymentWizard.View');\nimport PaymentWizardStep = require('./PaymentWizard.Step');\n\n// @class PaymentWizard.Router @extend Backbone.Router\nconst PaymentWizardRouter: any = WizardRouter.extend({\n    view: PaymentWizardView,\n\n    step: PaymentWizardStep,\n\n    _registerPageType: function _registerPageType(options) {\n        const pageType = this.application.getComponent('PageType');\n\n        pageType.registerPageType({\n            name: 'payment-wizard',\n            routes: options.routes,\n            view: PaymentWizardView,\n            defaultTemplate: {\n                name: 'payment_wizard_layout.tpl',\n                displayName: 'Payment wizard default',\n                thumbnail: Utils.getThemeAbsoluteUrlOfNonManagedResources(\n                    'img/default-layout-payment-wizard.png'\n                )\n            }\n        });\n    },\n\n    // @method runStep\n    runStep: function() {\n        if (SC.ENVIRONMENT.permissions.transactions.tranCustPymt < 2) {\n            this.application.getLayout().forbiddenError();\n\n            return jQuery.Deferred().reject();\n        }\n        return WizardRouter.prototype.runStep.apply(this, arguments);\n    },\n    // @method hidePayment\n    hidePayment: function() {\n        return (\n            (!this.model.get('payment') && !this.model.get('confirmation')) ||\n            (this.model.get('confirmation') && !this.model.get('confirmation').payment)\n        );\n    }\n});\n\nexport = PaymentWizardRouter;\n"]}