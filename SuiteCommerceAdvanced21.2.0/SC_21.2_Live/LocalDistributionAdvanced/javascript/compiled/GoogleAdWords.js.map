{"version":3,"sources":["GoogleAdWords.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAUF,uHAAuH;IACvH,IAAM,aAAa,GAAQ;QACvB,+GAA+G;QAC/G,UAAU,EAAE,UAAS,MAAM;YACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YAErB,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,0FAA0F;QAC1F,gBAAgB,EAAE,UAAS,KAAK;YACpB,IAAA,MAAM,GAAK,aAAa,OAAlB,CAAmB;YACjC,IAAM,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAEjC,MAAM,CAAC,QAAQ,EAAE;gBACb,GAAG,EACC,+CAA+C;oBAC/C,MAAM,CAAC,EAAE;oBACT,UAAU;oBACV,KAAK;oBACL,SAAS;oBACT,MAAM,CAAC,KAAK;oBACZ,mBAAmB;gBACvB,KAAK,EAAE,yBAAyB;aACnC,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAEnE,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,UAAU,EAAE,UAAS,WAAW;YAC5B,aAAa,CAAC,WAAW,GAAG,WAAW,CAAC;YACxC,IAAM,MAAM,GAAG,WAAW,CAAC,SAAS,EAAE,CAAC;YACvC,IAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,uBAAuB,CAAC;YACzD,yDAAyD;YACzD,IAAI,QAAQ,IAAI,QAAQ,CAAC,EAAE,IAAI,QAAQ,CAAC,KAAK,EAAE;gBAC3C,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAEnC,OAAO,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACtD;QACL,CAAC;KACJ,CAAC;IAEF,OAAS,aAAa,CAAC","file":"GoogleAdWords.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"GoogleAdWords\"/>\n// @module GoogleAdWords\n// Adds GoogleAdWords tracking pixel on the checkout confirmation page.\n\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\n\nimport Tracker = require('../../../Commons/Tracker/JavaScript/Tracker');\n\n// @Class GoogleAdWords Adds GoogleAdWords tracking pixel on the checkout confirmation page. @extends ApplicationModule\nconst GoogleAdWords: any = {\n    // @method setAccount Saves the configuration to be later used on the track transaction. @param {Object} config\n    setAccount: function(config) {\n        this.config = config;\n\n        return this;\n    },\n    // @method trackTransaction Appends the tracking pixel to the dom, so the request is done.\n    trackTransaction: function(order) {\n        const { config } = GoogleAdWords;\n        const value = order.get('total');\n\n        jQuery('<img/>', {\n            src:\n                '//www.googleadservices.com/pagead/conversion/' +\n                config.id +\n                '/?value=' +\n                value +\n                '&label=' +\n                config.label +\n                '&guid=ON&script=0',\n            style: 'height: 0px; width: 0px'\n        }).appendTo(GoogleAdWords.application.getLayout().currentView.$el);\n\n        return this;\n    },\n\n    mountToApp: function(application) {\n        GoogleAdWords.application = application;\n        const config = application.getConfig();\n        const tracking = config.tracking.googleAdWordsConversion;\n        // Required tracking attributes to generate the pixel url\n        if (tracking && tracking.id && tracking.label) {\n            GoogleAdWords.setAccount(tracking);\n\n            Tracker.getInstance().trackers.push(GoogleAdWords);\n        }\n    }\n};\n\nexport = GoogleAdWords;\n"]}