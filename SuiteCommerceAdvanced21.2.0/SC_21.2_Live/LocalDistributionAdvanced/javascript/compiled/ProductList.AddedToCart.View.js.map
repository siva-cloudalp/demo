{"version":3,"sources":["ProductList.AddedToCart.View.ts"],"names":[],"mappings":"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","file":"ProductList.AddedToCart.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"ProductList.AddedToCart.View\"/>\n\nimport * as product_list_added_to_cart_tpl from 'product_list_added_to_cart.tpl';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\n\nimport BackboneCollectionView = require('../../../Commons/Backbone.CollectionView/JavaScript/Backbone.CollectionView');\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\nimport ProductListDisplayFullView = require('./ProductList.DisplayFull.View');\n\n// @class ProductList.AddedToCart.View @extends Backbone.View\nexport = BackboneView.extend({\n    template: product_list_added_to_cart_tpl,\n\n    attributes: { class: 'product-list-added-to-cart' },\n\n    title: Utils.translate('Added to Cart'),\n\n    initialize: function(options) {\n        this.application = options.application;\n    },\n\n    // Render the view and show warning message if any item is not available to be added to the cart\n    render: function() {\n        BackboneView.prototype.render.apply(this);\n\n        const { list } = this.options;\n        const { not_purchasable_items_count } = this.options;\n\n        if (list && not_purchasable_items_count > 0) {\n            const warning_message =\n                not_purchasable_items_count === 1\n                    ? Utils.translate(\n                          'One item not available for purchase was not added to the cart.'\n                      )\n                    : Utils.translate(\n                          '$(0) items not available for purchase were not added to the cart.',\n                          not_purchasable_items_count\n                      );\n\n            this.showWarningMessage(warning_message);\n        }\n    },\n\n    showWarningMessage: function(message) {\n        this.$('[data-warning-message]')\n            .empty()\n            .append(message);\n    },\n\n    isPurchasable: function(model) {\n        return model.get('item').get('_isPurchasable');\n    },\n\n    childViews: {\n        'ProductList.ItemsAddedToCart': function() {\n            const { list } = this.options;\n            const isItem = !list;\n\n            return new BackboneCollectionView({\n                childView: ProductListDisplayFullView,\n                childViewOptions: {\n                    application: this.application,\n                    hide_rating: true,\n                    hide_added_on: true,\n                    hide_checkbox: true,\n                    id: 'list',\n                    name: 'List',\n                    icon: 'icon-th-list',\n                    isDefault: true\n                },\n                viewsPerRow: 1,\n                collection: isItem\n                    ? [this.options.item]\n                    : list.get('items').models.filter(this.isPurchasable)\n            });\n        }\n    },\n\n    // @method getContext @return ProductList.AddedToCart.View.Context\n    getContext: function() {\n        const { list } = this.options;\n        const isItem = !list;\n        const models = isItem\n            ? [this.options.item]\n            : list.get('items').models.filter(this.isPurchasable);\n\n        return {\n            // @property {Boolean} isItem\n            isItem: isItem,\n            // @property {Boolean} hasMoreThanOneModel\n            hasMoreThanOneModel: models.length > 1,\n            // @property {String} listName\n            listName: list.get('name'),\n            // @property {Integer} modelsLength\n            modelsLength: models.length\n        };\n    }\n});\n"]}