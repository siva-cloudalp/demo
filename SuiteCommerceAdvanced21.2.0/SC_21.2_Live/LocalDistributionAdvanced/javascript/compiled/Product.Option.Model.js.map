{"version":3,"sources":["Product.Option.Model.ts"],"names":[],"mappings":"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","file":"Product.Option.Model.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Product.Option.Model\"/>\n\nimport * as _ from 'underscore';\nimport * as Utils from '../../Utilities/JavaScript/Utils';\n\nimport ProductLineOptionModel = require('../../ProductLine/JavaScript/ProductLine.Option.Model');\nimport Backbone = require('../../Utilities/JavaScript/backbone.custom');\nimport jQuery = require('../../Core/JavaScript/jQuery');\n\n// @class Product.Option.Model @extend ProductLine.Option.Model\nexport = ProductLineOptionModel.extend({\n    // @method initialize Override default method to convert the current model \"validate-able\"\n    // @return {Void}\n    initialize: function initialize() {\n        ProductLineOptionModel.prototype.initialize.apply(this, arguments);\n\n        // Extend the model with Backbone.Validation.mixin to validate it without a View\n        _.extend(this, Backbone.Validation.mixin);\n    },\n\n    // @property {Object} validation\n    validation: {\n        'value.internalid': {\n            fn: function optionValueValidator() {\n                const value = this.get('value') && this.get('value').internalid;\n\n                if (this.get('isMandatory') && !value) {\n                    return Utils.translate('Please specify a value for this option');\n                }\n                if (value) {\n                    const max_length = 160;\n\n                    if (this.get('type') === 'text' || this.get('type') === 'textarea') {\n                        if (\n                            this.get('isMandatory') &&\n                            (!String(value).trim() || value.length > max_length)\n                        ) {\n                            return Utils.translate('Please enter a valid input for this string');\n                        }\n                        if (value.length > max_length) {\n                            return Utils.translate(\n                                'Please enter a string shorter (maximum length: $(0))',\n                                max_length\n                            );\n                        }\n                    } else if (\n                        this.get('type') === 'email' &&\n                        !Backbone.Validation.patterns.email.test(value)\n                    ) {\n                        return Utils.translate('Please enter a valid email');\n                    } else if (\n                        this.get('type') === 'integer' &&\n                        !Backbone.Validation.patterns.netsuiteInteger.test(value)\n                    ) {\n                        return Utils.translate('Please enter a valid integer number');\n                    } else if (\n                        this.get('type') === 'float' &&\n                        !Backbone.Validation.patterns.netsuiteFloat.test(value)\n                    ) {\n                        return Utils.translate('Please enter a valid decimal number');\n                    } else if (\n                        this.get('type') === 'currency' &&\n                        !Backbone.Validation.patterns.netsuiteFloat.test(value)\n                    ) {\n                        return Utils.translate('Please enter a valid currency number');\n                    } else if (\n                        this.get('type') === 'phone' &&\n                        !Backbone.Validation.patterns.netsuitePhone.test(value)\n                    ) {\n                        return Utils.translate('Please enter a valid phone');\n                    } else if (\n                        this.get('type') === 'percent' &&\n                        !Backbone.Validation.patterns.netsuitePercent.test(value)\n                    ) {\n                        return Utils.translate('Please enter a valid percent');\n                    } else if (\n                        this.get('type') === 'url' &&\n                        !Backbone.Validation.patterns.netsuiteUrl.test(value)\n                    ) {\n                        return Utils.translate('Please enter a valid url');\n                    } else if (\n                        this.get('type') === 'select' &&\n                        !_.findWhere(this.get('values'), { internalid: value })\n                    ) {\n                        return Utils.translate('Please select a valid value for this option');\n                    }\n                }\n            }\n        }\n    }\n});\n"]}