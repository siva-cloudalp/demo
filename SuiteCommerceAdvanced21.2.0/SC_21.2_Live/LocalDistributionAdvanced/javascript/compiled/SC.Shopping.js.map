{"version":3,"sources":["SC.Shopping.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;;;;;;;;;;;;;;;;IAuBF;QAA8B,4BAAiB;QAG3C;YAAA,YACI,iBAAO,SASV;YARG,KAAI,CAAC,MAAM,GAAG,IAAI,mCAAc,CAAC,KAAI,CAAC,CAAC;YACvC,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC,GAAG,EAAE,CAAC;YACzC,iFAAiF;YACjF,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC;YAExC,0CAA0C;YAC1C,wBAAM,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;YAClC,wBAAM,CAAC,aAAa,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;;QAC7C,CAAC;QAEO,gCAAa,GAArB,UAAsB,OAAO;YACzB,IAAM,EAAE,GAAG,yBAAW,CAAC,KAAK,EAAE,CAAC;YAC/B,IAAI,OAAO,CAAC,GAAG,EAAE;gBACb,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,IAAI,OAAO,CAAC,IAAI,EAAE;oBACxC,IAAM,WAAW,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;oBAC1D,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,GAAG,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC;oBACvD,OAAO,CAAC,IAAI,GAAG,EAAE,CAAC;iBACrB;gBAED,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;aACrD;YAED,IAAU,OAAQ,CAAC,oBAAoB,IAAI,EAAE,CAAC,WAAW,CAAC,aAAa,KAAK,QAAQ,EAAE;gBAClF,wBAAM,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,gBAAgB,EAAE,CAAC,CAAC,SAAS,CAC/E,MAAM,CACT,CAAC;aACL;QACL,CAAC;QAEa,oBAAW,GAAzB;YACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,QAAQ,EAAE,CAAC;YAChD,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;QAEM,0BAAO,GAAd;YACI,OAAO,UAAU,CAAC;QACtB,CAAC;QACL,eAAC;IAAD,CA1CA,AA0CC,CA1C6B,qCAAiB,GA0C9C;IA1CY,4BAAQ","file":"SC.Shopping.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"SC.Shopping\"/>\n\nimport '../../../Commons/BackboneExtras/JavaScript/Backbone.Model';\nimport '../../../Commons/BackboneExtras/JavaScript/Backbone.Sync';\nimport '../../../Commons/Core/JavaScript/backbone/BackboneExtras';\nimport '../../../Commons/BackboneExtras/JavaScript/Backbone.View';\nimport '../../../Commons/BackboneExtras/JavaScript/Backbone.View.render';\nimport '../../../Commons/BackboneExtras/JavaScript/Backbone.View.saveForm';\nimport '../../../Commons/BackboneExtras/JavaScript/Backbone.View.toggleReset';\nimport '../../../Commons/BootstrapExtras/JavaScript/Bootstrap.Rate';\nimport '../../../Commons/BootstrapExtras/JavaScript/Bootstrap.Slider';\nimport '../../../Commons/jQueryExtras/JavaScript/jQuery.scPush';\nimport '../../../Commons/NativesExtras/JavaScript/String.format';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport { jQuery } from '../../jQuerySCAExtras/JavaScript/jQuerySCAExtras';\nimport { ApplicationOnline } from '../../SCA/JavaScript/ApplicationOnline';\nimport { ShoppingLayout } from './SC.Shopping.Layout';\nimport { Environment } from '../../../Commons/Core/JavaScript/Environment';\n\nimport Configuration = require('../../ShoppingApplication/JavaScript/SC.Shopping.Configuration');\n\nexport class Shopping extends ApplicationOnline {\n    protected static instance: Shopping;\n\n    private constructor() {\n        super();\n        this.layout = new ShoppingLayout(this);\n        this.configuration = Configuration.get();\n        // This is only to avoid break extensions in 20.2 release. Should be deleted asap\n        this.Configuration = this.configuration;\n\n        // Setup global cache for this application\n        jQuery.ajaxSetup({ cache: true });\n        jQuery.ajaxPrefilter(this.ajaxPrefilter);\n    }\n\n    private ajaxPrefilter(options): void {\n        const SC = Environment.getSC();\n        if (options.url) {\n            if (options.type === 'GET' && options.data) {\n                const join_string = ~options.url.indexOf('?') ? '&' : '?';\n                options.url = options.url + join_string + options.data;\n                options.data = '';\n            }\n\n            options.url = Utils.reorderUrlParams(options.url);\n        }\n\n        if ((<any>options).pageGeneratorPreload && SC.ENVIRONMENT.jsEnvironment === 'server') {\n            jQuery('<img />', { src: options.url, alt: '', style: 'display: none;' }).prependTo(\n                'body'\n            );\n        }\n    }\n\n    public static getInstance(): Shopping {\n        this.instance = this.instance || new Shopping();\n        return this.instance;\n    }\n\n    public getName(): string {\n        return 'Shopping';\n    }\n}\n"]}