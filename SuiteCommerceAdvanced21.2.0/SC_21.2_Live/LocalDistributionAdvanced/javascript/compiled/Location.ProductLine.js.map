{"version":3,"sources":["Location.ProductLine.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;;IAYF,IAAM,mBAAmB,GAAG,UAAS,UAAU;QAC3C,IAAI,CAAC,EAAE,CAAC,iBAAiB,EAAE,UAAS,KAAK,EAAE,QAAQ;YAC/C,IAAI,KAAK,CAAC;YAEV,IAAI,QAAQ,YAAY,aAAa,IAAI,QAAQ,YAAY,QAAQ,CAAC,KAAK,EAAE;gBACzE,KAAK,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;aAC5B;iBAAM,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;gBAC7B,KAAK,GAAG,IAAI,aAAa,CAAC,QAAQ,CAAC,CAAC;aACvC;iBAAM;gBACH,KAAK,GAAG,IAAI,aAAa,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAC,CAAC;aACvD;YAED,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,IAAI,EAAE,CAAC,UAAU,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;IACrF,CAAC,CAAC;IAEF,IAAM,oCAAoC,GAAG,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC;IAE/E,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,SAAS,UAAU;QACnD,oCAAoC,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QAE5D,mBAAmB,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC/C,CAAC,CAAC;IAEF,IAAM,6CAA6C,GAAG,oBAAoB,CAAC,SAAS,CAAC,UAAU,CAAC;IAEhG,oBAAoB,CAAC,SAAS,CAAC,UAAU,GAAG,SAAS,UAAU;QAC3D,6CAA6C,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QAErE,mBAAmB,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC/C,CAAC,CAAC;IAEF,IAAM,uCAAuC,GAAG,iBAAiB,CAAC,MAAM,CAAC;IAEzE,iBAAiB,CAAC,MAAM,GAAG,SAAS,MAAM;QACtC,IAAM,MAAM,GAAG,uCAAuC,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QAE9E,qCAAqC;QACrC,8BAA8B;QAC9B,MAAM,CAAC,QAAQ;YACX,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ;gBACrB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,UAAU;gBACnC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC;gBACnD,EAAE,CAAC;QACP,uCAAuC;QACvC,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC,iBAAiB,IAAI,MAAM,CAAC;QAEvE,OAAO,MAAM,CAAC;IAClB,CAAC,CAAC","file":"Location.ProductLine.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Location.ProductLine\"/>\n\nimport * as _ from 'underscore';\n\nimport ProductModel = require('../../../Commons/Product/JavaScript/Product.Model');\nimport TransactionLineModel = require('../../../Commons/Transaction/JavaScript/Transaction.Line.Model');\nimport ProductLineCommon = require('../../../Commons/ProductLine/JavaScript/ProductLine.Common');\nimport LocationModel = require('./Location.Model');\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\n\nconst initialize_location = function(attributes) {\n    this.on('change:location', function(model, location) {\n        let value;\n\n        if (location instanceof LocationModel || location instanceof Backbone.Model) {\n            value = location.clone();\n        } else if (_.isObject(location)) {\n            value = new LocationModel(location);\n        } else {\n            value = new LocationModel({ internalid: location });\n        }\n\n        model.set('location', value, { silent: true });\n    });\n\n    this.trigger('change:location', this, (attributes && attributes.location) || {});\n};\n\nconst original_product_model_initialize_fn = ProductModel.prototype.initialize;\n\nProductModel.prototype.initialize = function initialize() {\n    original_product_model_initialize_fn.apply(this, arguments);\n\n    initialize_location.apply(this, arguments);\n};\n\nconst original_transaction_line_model_initialize_fn = TransactionLineModel.prototype.initialize;\n\nTransactionLineModel.prototype.initialize = function initialize() {\n    original_transaction_line_model_initialize_fn.apply(this, arguments);\n\n    initialize_location.apply(this, arguments);\n};\n\nconst original_to_json_product_line_common_fn = ProductLineCommon.toJSON;\n\nProductLineCommon.toJSON = function toJSON() {\n    const result = original_to_json_product_line_common_fn.apply(this, arguments);\n\n    // @class Transaction.Line.Model.JSON\n    // @property {Object} location\n    result.location =\n        (this.attributes.location &&\n            this.attributes.location.attributes &&\n            this.attributes.location.attributes.internalid) ||\n        '';\n    // @property {Object} fulfillmentChoice\n    result.fulfillmentChoice = this.attributes.fulfillmentChoice || 'ship';\n\n    return result;\n};\n"]}