{"version":3,"sources":["InstrumentationAddToCart.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;;;IAOF,SAAgB,WAAW,CAAC,IAAI;QAC5B,IAAM,SAAS,GAAc;YACzB,YAAY,EAAE,CAAC;YACf,MAAM,EAAE,CAAC;SACZ,CAAC;QACF,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;YACtB,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;SACjD;QACD,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;YAClB,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;gBACpC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;aACzD;SACJ;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAdD,kCAcC;IAED,SAAgB,uBAAuB,CAAC,UAAU,EAAE,WAAW;QAC3D,IAAI,qBAAqB,GAAa,EAAE,CAAC;QACzC,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,UAAC,QAAa;YAC7B,IACI,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC;gBACpB,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE;gBACvB,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;gBACvD,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,EACxD;gBACE,qBAAqB,GAAG,QAAQ,CAAC,eAAe,EAAE,CAAC;aACtD;QACL,CAAC,CAAC,CAAC;QACH,OAAO,qBAAqB,CAAC;IACjC,CAAC;IAbD,0DAaC;IAED,SAAgB,wBAAwB,CAAC,UAAU,EAAE,KAAK;QACtD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,UAAC,IAAS;YAC3B,IAAI,MAAM,GAAG,CAAC,CAAC;YACf,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE;gBACzC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;aAChC;YACD,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,UAAC,QAAa;gBAC7B,IACI,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC;oBACpB,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE;oBACvB,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,MAAM,EACpC;oBACE,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,CAAC;iBACpD;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAhBD,4DAgBC","file":"InstrumentationAddToCart.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"InstrumentationAddToCart\"/>\n\nimport * as _ from 'underscore';\nimport { ItemTrack } from './APMTrackerParameters';\n\nexport function itemToTrack(line): ItemTrack {\n    const itemTrack: ItemTrack = {\n        itemQuantity: 0,\n        itemId: 0\n    };\n    if (line.get('quantity')) {\n        itemTrack.itemQuantity = line.get('quantity');\n    }\n    if (line.get('item')) {\n        if (line.get('item').get('internalid')) {\n            itemTrack.itemId = line.get('item').get('internalid');\n        }\n    }\n    return itemTrack;\n}\n\nexport function getAddToCartOperationId(cartModels, currentLine): string[] {\n    let addToCartOperationIds: string[] = [];\n    _.each(cartModels, (cartLine: any) => {\n        if (\n            cartLine.get('item') &&\n            cartLine.get('item').id &&\n            (currentLine.get('item') && currentLine.get('item').id) &&\n            cartLine.get('item').id === currentLine.get('item').id\n        ) {\n            addToCartOperationIds = cartLine.getOperationIds();\n        }\n    });\n    return addToCartOperationIds;\n}\n\nexport function addOperationIdToCartLine(cartModels, lines): void {\n    _.each(lines.models, (line: any) => {\n        let lineId = 0;\n        if (line.get('item') && line.get('item').id) {\n            lineId = line.get('item').id;\n        }\n        _.each(cartModels, (cartLine: any) => {\n            if (\n                cartLine.get('item') &&\n                cartLine.get('item').id &&\n                cartLine.get('item').id === lineId\n            ) {\n                cartLine.addOperationId(lines.getOperationIds());\n            }\n        });\n    });\n}\n"]}