{"version":3,"sources":["PaymentInstrumentACH.Edit.View.ts"],"names":[],"mappings":"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","file":"PaymentInstrumentACH.Edit.View.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"PaymentInstrumentACH.Edit.View\"/>\n\nimport * as _ from 'underscore';\nimport * as paymentinstrument_ach_edit_tpl from 'paymentinstrument_ach_edit.tpl';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\nimport { Configuration } from '../../../Commons/Utilities/JavaScript/Configuration';\nimport { ProfileModel } from '../../../Commons/Profile/JavaScript/Profile.Model';\nimport { PaymentInstrumentACHModel } from './PaymentInstrumentACH.Model';\nimport { PaymentInstrumentACHCollection } from './PaymentInstrumentACH.Collection';\nimport { PaymentInstrumentACHEditFormView } from './PaymentInstrumentACH.Edit.Form.View';\n\nimport { ChildViews } from '../../../Commons/Core/JavaScript/View';\nimport {\n    BreadCrumbPage,\n    PageTypeView,\n    PageTypeViewOptions\n} from '../../../Commons/Core/JavaScript/PageTypeView';\n\nimport { Environment } from '../../../Commons/Core/JavaScript/Environment';\n\ninterface PaymentInstrumentACHEditViewContext {\n    isNew: boolean;\n    isCollectionEmpty: boolean;\n    inModal: boolean;\n    showBackToAccount: boolean;\n}\n\nexport class PaymentInstrumentACHEditView extends PageTypeView<\n    PaymentInstrumentACHEditViewContext\n> {\n    public application;\n\n    private ACHForm: PaymentInstrumentACHEditFormView = null;\n\n    protected template = paymentinstrument_ach_edit_tpl;\n\n    protected profileModel = null;\n\n    public title = '';\n\n    public page_header = '';\n\n    public showCardsImgs = true;\n\n    public showDefaults = false;\n\n    public options;\n\n    public noRedirect = false;\n\n    public attributes = {\n        id: 'PaymentInstrumentACHDetails',\n        class: 'PaymentInstrumentACHView'\n    };\n\n    public collection: PaymentInstrumentACHCollection;\n\n    public model: PaymentInstrumentACHModel;\n\n    public constructor(options: PageTypeViewOptions) {\n        super(options);\n        this.options = options;\n        this.application = options.application;\n        this.profileModel = ProfileModel.getInstance();\n        this.collection =\n            this.profileModel.get('paymentmethodsach') || new PaymentInstrumentACHCollection();\n\n        const id =\n            (options.routerArguments &&\n                options.routerArguments.length &&\n                options.routerArguments[0]) ||\n            '';\n\n        this.model = id && id !== 'new' ? this.collection.get(id) : new PaymentInstrumentACHModel();\n\n        const addCCLabel = Utils.translate('Add ACH');\n        const editCCLabel = Utils.translate('Edit ACH');\n        this.title = this.model.isNew() ? addCCLabel : editCCLabel;\n        this.page_header = this.title;\n        this.showCardsImgs = true;\n    }\n\n    public beforeShowContent() {\n        const promise = jQuery.Deferred();\n\n        if (this.profileModel.get('isLoggedIn') !== 'T') {\n            promise.reject();\n            this.application.getLayout().notFound();\n        } else {\n            promise.resolve();\n        }\n        return promise;\n    }\n\n    protected getChildViews(): ChildViews {\n        return {\n            'ACH.Form': (): PaymentInstrumentACHEditFormView => {\n                this.ACHForm = new PaymentInstrumentACHEditFormView({\n                    model: this.model,\n                    collection: this.collection,\n                    inModal: this.inModal,\n                    isSection: false,\n                    noRedirect: false,\n                    showFooter: true\n                });\n                return this.ACHForm;\n            }\n        };\n    }\n\n    protected getSelectedMenu(): string {\n        return 'ach';\n    }\n\n    public getBreadcrumbPages = (): BreadCrumbPage[] => {\n        return [\n            {\n                text: Utils.translate('ACH'),\n                href: '/ach'\n            },\n            {\n                text: this.title,\n                href: '/ach/new'\n            }\n        ];\n    };\n\n    private showError(message, type?, closable?, disableElements?) {\n        Environment.getApplication().getLayout().showError(message, type, closable, disableElements);\n    }\n\n    public getContext(): PaymentInstrumentACHEditViewContext {\n        return {\n            isNew: this.model.isNew(),\n            inModal: this.inModal,\n            isCollectionEmpty: !this.collection.length,\n            showBackToAccount: Configuration.get('siteSettings.sitetype') === 'STANDARD'\n        };\n    }\n}\n"]}