{"version":3,"sources":["SC.MyAccount.Starter.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAeF;QAGI;YACI,IAAI,CAAC,SAAS,GAAG,wBAAS,CAAC,WAAW,EAAE,CAAC;YACzC,IAAM,IAAI,GAAG,IAAI,CAAC;YAClB,MAAM,CAAC;gBACH,iBAAiB,CAAC,IAAI,CAClB;oBAAC,qCAA8B;yBAA9B,UAA8B,EAA9B,qBAA8B,EAA9B,IAA8B;wBAA9B,gDAA8B;;oBAC3B,OAAA,IAAI,CAAC,IAAI,CAAC,qDAAiB,CAAC,MAAM,CAAC,2BAA2B,CAAC,CAAC;gBAAhE,CAAgE,CACvE,CAAC;YACN,CAAC,CAAC,CAAC;QACP,CAAC;QAEO,+BAAI,GAAZ,UAAa,UAAU;YAAvB,iBAQC;YAPG,IAAI,CAAC,SAAS,CAAC,KAAK,CAChB,UAAU,EACV;gBACI,KAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,KAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,WAAW,EAAE,CAAC;YAC7C,CAAC,CACJ,CAAC;QACN,CAAC;QAEO,yCAAc,GAAtB;YACI,IAAM,EAAE,GAAG,yBAAW,CAAC,KAAK,EAAE,CAAC;YAC/B,IAAI,EAAE,CAAC,WAAW,CAAC,YAAY,EAAE;gBAC7B,IAAI,CAAC,SAAS;qBACT,SAAS,EAAE;qBACX,CAAC,CAAC,cAAc,CAAC;qBACjB,IAAI,EAAE,CAAC;gBACZ,IAAI,CAAC,SAAS;qBACT,SAAS,EAAE;qBACX,CAAC,CAAC,cAAc,CAAC;qBACjB,IAAI,EAAE,CAAC;gBACZ,IAAI,CAAC,SAAS;qBACT,SAAS,EAAE;qBACX,aAAa,CACV,EAAE,CAAC,WAAW,CAAC,YAAY,CAAC,YAAY,EACxC,WAAS,EAAE,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,UAChD,EAAE,CAAC,WAAW,CAAC,YAAY,CAAC,SAC9B,CACL,CAAC;aACT;iBAAM;gBACK,IAAA,QAAQ,GAAK,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,SAA3C,CAA4C;gBAC5D,IAAI,QAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;oBAC5B,QAAQ,CAAC,IAAI,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;iBAC3D;gBACD,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;aAC5B;QACL,CAAC;QACL,uBAAC;IAAD,CAnDA,AAmDC,IAAA;IAED,OAAS,IAAI,gBAAgB,EAAE,CAAC","file":"SC.MyAccount.Starter.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"SC.MyAccount.Starter\"/>\n/// <reference path=\"../../../Commons/Utilities/JavaScript/GlobalDeclarations.d.ts\" />\n\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\nimport { MyAccount } from '../../MyAccountApplication/JavaScript/SC.MyAccount';\nimport { Environment } from '../../../Commons/Core/JavaScript/Environment';\n\nimport { entryPointModules } from './SC.MyAccount.Starter.Dependencies';\n\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\nimport extensionsPromise = require('../../../Commons/SC.Extensions/JavaScript/SC.Extensions');\n\nclass MyAccountStarter {\n    private myAccount;\n\n    public constructor() {\n        this.myAccount = MyAccount.getInstance();\n        const self = this;\n        jQuery(function(): any {\n            extensionsPromise.then(\n                (...entryPointExtensionsModules): void =>\n                    self.init(entryPointModules.concat(entryPointExtensionsModules))\n            );\n        });\n    }\n\n    private init(allModules): void {\n        this.myAccount.start(\n            allModules,\n            (): void => {\n                this.checkForErrors();\n                this.myAccount.getLayout().appendToDom();\n            }\n        );\n    }\n\n    private checkForErrors(): void {\n        const SC = Environment.getSC();\n        if (SC.ENVIRONMENT.contextError) {\n            this.myAccount\n                .getLayout()\n                .$('#site-header')\n                .hide();\n            this.myAccount\n                .getLayout()\n                .$('#site-footer')\n                .hide();\n            this.myAccount\n                .getLayout()\n                .internalError(\n                    SC.ENVIRONMENT.contextError.errorMessage,\n                    `Error ${SC.ENVIRONMENT.contextError.errorStatusCode}: ${\n                        SC.ENVIRONMENT.contextError.errorCode\n                    }`\n                );\n        } else {\n            const { fragment } = Utils.parseUrlOptions(location.search);\n            if (fragment && !location.hash) {\n                location.hash = decodeURIComponent(fragment.toString());\n            }\n            Backbone.history.start();\n        }\n    }\n}\n\nexport = new MyAccountStarter();\n"]}