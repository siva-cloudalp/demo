{"version":3,"sources":["OrderWizard.Module.PaymentMethod.Others.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IAkBF,2FAA2F;IAC3F,IAAM,oCAAoC,GAAQ,8BAA8B,CAAC,MAAM,CAAC;QACpF,QAAQ,EAAE,4CAA4C;QAEtD,MAAM,EAAE;YACJ,8BAA8B,EAAE,uBAAuB;SAC1D;QAED,UAAU,EAAE,UAAS,OAAO;YACxB,8BAA8B,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;YAC3E,IAAM,IAAI,GAAG,IAAI,CAAC;YAElB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAS,MAAW;gBAC9C,iDAAiD;gBACjD,IAAM,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;gBACvC,MAAM,CAAC,QAAQ,GAAG,IAAI,WAAW,CAC7B,CAAC,CAAC,MAAM,CACJ;oBACI,MAAM,EAAE,IAAI,CAAC,MAAM;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,SAAS,EAAE,IAAI,CAAC,SAAS;iBAC5B,EACD,MAAM,CAAC,OAAO,CACjB,CACJ,CAAC;YACN,CAAC,CAAC,CAAC;QACP,CAAC;QAED,qBAAqB,EAAE,UAAS,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9D,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;YAC7E,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAED,UAAU,EAAE;YACR,aAAa,EAAE;gBACX,OAAO,IAAI,sBAAsB,CAAC;oBAC9B,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ;oBACjC,SAAS,EAAE,sCAAsC;oBACjD,WAAW,EACP,IAAI,CAAC,WAAW;wBAChB,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAClE,YAAY,EAAE,iCAAiC;oBAC/C,WAAW,EAAE,gCAAgC;oBAC7C,gBAAgB,EAAE,IAAI,CAAC,OAAO;iBACjC,CAAC,CAAC;YACP,CAAC;YACD,sBAAsB,EAAE;gBACpB,OAAO,IAAI,iDAAsB,CAAC;oBAC9B,OAAO,EAAE,KAAK,CAAC,SAAS,CACpB,qNAAqN,CACxN;oBACD,IAAI,EAAE,MAAM;oBACZ,QAAQ,EAAE,KAAK;iBAClB,CAAC,CAAC;YACP,CAAC;SACJ;KACJ,CAAC,CAAC;IAEH,OAAS,oCAAoC,CAAC","file":"OrderWizard.Module.PaymentMethod.Others.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"OrderWizard.Module.PaymentMethod.Others\"/>\n\nimport '../../../Commons/Transaction/JavaScript/Transaction.Paymentmethod.Model';\nimport '../../../Commons/Utilities/JavaScript/backbone.custom';\nimport * as _ from 'underscore';\nimport '../../SCA/JavaScript/Configuration';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport * as order_wizard_paymentmethod_others_module_tpl from 'order_wizard_paymentmethod_others_module.tpl';\nimport * as backbone_collection_view_cell_tpl from 'backbone_collection_view_cell.tpl';\nimport * as backbone_collection_view_row_tpl from 'backbone_collection_view_row.tpl';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\n\nimport OrderWizardModulePaymentMethod = require('./OrderWizard.Module.PaymentMethod');\nimport OrderWizardModulePaymentMethodExternal = require('./OrderWizard.Module.PaymentMethod.External');\nimport BackboneCollectionView = require('../../../Commons/Backbone.CollectionView/JavaScript/Backbone.CollectionView');\nimport { GlobalViewsMessageView } from '../../../Commons/GlobalViews/JavaScript/GlobalViews.Message.View';\n// @class OrderWizard.Module.PaymentMethod.Others @extends OrderWizard.Module.PaymentMethod\nconst OrderWizardModulePaymentMethodOthers: any = OrderWizardModulePaymentMethod.extend({\n    template: order_wizard_paymentmethod_others_module_tpl,\n\n    events: {\n        'click [data-action=\"select\"]': 'setSelectedExternalId'\n    },\n\n    initialize: function(options) {\n        OrderWizardModulePaymentMethod.prototype.initialize.apply(this, arguments);\n        const self = this;\n\n        _.each(this.options.external, function(module: any) {\n            // var ModuleClass = require(module.classModule);\n            const ModuleClass = module.classModule;\n            module.instance = new ModuleClass(\n                _.extend(\n                    {\n                        wizard: self.wizard,\n                        step: self.step,\n                        stepGroup: self.stepGroup\n                    },\n                    module.options\n                )\n            );\n        });\n    },\n\n    setSelectedExternalId: function(e) {\n        this.options.selectedExternalId = jQuery(e.target).data('id');\n        this.options.selector.setModuleByType(this.options.selectedExternalId, true);\n        this.render();\n    },\n\n    childViews: {\n        'Others.List': function() {\n            return new BackboneCollectionView({\n                collection: this.options.external,\n                childView: OrderWizardModulePaymentMethodExternal,\n                viewsPerRow:\n                    this.itemsPerRow ||\n                    (Utils.isDesktopDevice() ? 3 : Utils.isTabletDevice() ? 2 : 1),\n                cellTemplate: backbone_collection_view_cell_tpl,\n                rowTemplate: backbone_collection_view_row_tpl,\n                childViewOptions: this.options\n            });\n        },\n        'External.Description': function() {\n            return new GlobalViewsMessageView({\n                message: Utils.translate(\n                    'You will be <b>redirected to your external payment site</b> after reviewing your order <b>on next step</b>. Once your order is placed, you <b>will return to our site to see the confirmation</b> of your purchase.'\n                ),\n                type: 'info',\n                closable: false\n            });\n        }\n    }\n});\n\nexport = OrderWizardModulePaymentMethodOthers;\n"]}