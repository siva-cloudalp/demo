{"version":3,"sources":["Bootstrap.Rate.ts"],"names":[],"mappings":"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","file":"Bootstrap.Rate.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"Bootstrap.Rate\"/>\n\nimport * as $ from '../../Core/JavaScript/jQuery';\n\nconst Rater = function(element, options) {\n    this.init(element, options);\n};\n\nRater.prototype = {\n    init: function(element, options) {\n        this.options = options;\n        this.$element = $(element);\n\n        // The element that displays the rating selection\n        this.$fill = this.$element.children('.global-views-star-rating-area-fill');\n\n        const data = this.$element.data();\n\n        this.max = data.max;\n        this.value = data.value;\n\n        // used as an identifier from the outside\n        this.name = data.name;\n\n        if (this.value) {\n            this.setValue(data.value, true);\n        }\n\n        this.listen();\n    },\n\n    listen: function() {\n        const self = this;\n\n        // The .rater and .data-api are namespacing convention\n        this.$element\n            .on('click.rater.data-api', function(e) {\n                self.handleClick.call(self, e);\n            })\n            .on('mousemove.rater.data-api', function(e) {\n                self.handleMouseMove.call(self, e);\n            })\n            .on('mouseleave.rater.data-api', function(e) {\n                self.handleMouseLeave.call(self, e);\n            });\n    },\n\n    handleClick: function(e) {\n        e.preventDefault();\n\n        // our rating area is composed by buttons\n        // when one is clicked, we set its value to this\n        if (e.target.tagName.toLowerCase() === 'button') {\n            this.setValue(e.target.value);\n        }\n    },\n\n    handleMouseMove: function(e) {\n        e.preventDefault();\n\n        // our rating area is composed by buttons\n        // when one is hovered, we fill the bar with that value\n        if (e.target.tagName.toLowerCase() === 'button') {\n            this.setFillStatus(e.target.value);\n        }\n    },\n\n    handleMouseLeave: function() {\n        // on mouse leave we reset the value\n        this.setFillStatus(this.value);\n    },\n\n    setValue: function(value, silent) {\n        this.value = typeof value === 'number' ? Math.round(value) : parseInt(value, 10);\n\n        // we set the value so it can be listened from the outside\n        this.$element.data('value', this.value);\n        // then fill the rating selection with that value\n        this.setFillStatus(this.value);\n\n        !silent && this.$element.trigger('rate', this);\n    },\n\n    setFillStatus: function(value) {\n        if (this.$element.hasClass('global-views-star-rating-area-review-mode')) {\n            const starsToFill = this.$fill.children().children();\n\n            starsToFill.each(function(index: any, element: any) {\n                if (index < value) {\n                    $(element).css('visibility', 'visible');\n                } else {\n                    $(element).css('visibility', 'hidden');\n                }\n            });\n        } else {\n            // the percentage value is calculated\n            // and the area to be filled is filled\n            this.$fill.css('width', (value * 100) / this.max + '%');\n        }\n    }\n};\n\n/* RATER PLUGIN DEFINITION\n * ======================= */\n\n// standar jQuery plugin definition\n(<any>$.fn).rater = function(options) {\n    return this.each(function() {\n        const $this = $(this);\n        let data = $this.data('rater');\n\n        if (!data) {\n            $this.data('rater', (data = new Rater(this, options)));\n        }\n    });\n};\n\n(<any>$.fn).rater.Constructor = Rater;\n\n(<any>$.fn).rater.defaults = {};\n\n/* Rater DATA-API\n * ============== */\n\n$(window).on('load', () => {\n    (<any>$('[data-toggle=\"rater\"]')).rater();\n});\n\nexport = Rater;\n"]}