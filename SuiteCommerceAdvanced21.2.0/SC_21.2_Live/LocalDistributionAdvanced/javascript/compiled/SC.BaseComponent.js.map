{"version":3,"sources":["SC.BaseComponent.ts"],"names":[],"mappings":"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","file":"SC.BaseComponent.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"SC.BaseComponent\"/>\n\nimport * as _ from 'underscore';\n\nimport * as Utils from '../../Utilities/JavaScript/Utils';\n\nimport { SCCancelableEvents } from './SC.CancelableEvents';\nimport { SCComponentErrors } from './SC.ComponentErrors';\n\n// @module SC\n\n// @class SC.BaseComponent Base abstract class for front-end components. Use method @?method SC.SC.BaseComponent.extend to build concrete components.\n// Implements helper methods for Views manipulation\n// @extends SC.CancelableEvents\nconst SCBaseComponent = _.extend(\n    {\n        // @property {String} componentName The name which identify this kind of component. This name is used both for registering a new component and\n        // getting a component implementation with @?class SC.ComponentContainer\n        // @extlayer\n\n        // @property {ApplicationSkeleton} application\n\n        // @method extend Extends the current component to generate a child one\n        // @public @extlayer\n        // @param {Object} child_component Any object with properties/methods that will be used to generate the SC.Component that will be returned\n        // @return {SC.BaseComponent}\n        extend: function extend(child_component) {\n            if (\n                !child_component ||\n                (!child_component.componentName && !this.componentName) ||\n                !child_component.application\n            ) {\n                return this._reportError(\n                    'INVALID_PARAM',\n                    'Invalid SC.Component. Property \"componentName\" and \"application\" are required.'\n                );\n            }\n\n            this.application = child_component.application;\n\n            const new_component = _.extend({}, this, child_component);\n\n            return new_component;\n        },\n\n        // @method _reportError Internal method used to centrally handle error reporting\n        // @private\n        // @param {String} code Error code\n        // @param {String} description Error description\n        // @return {Error}\n        _reportError: function _reportError(code, description) {\n            const error = new Error(description);\n            error.name = code;\n            throw error;\n        },\n\n        // @method _exposeAPIEvent Handle common code to expose private Application before and after events\n        // into public Extensibility events\n        // @param {String} event_name name of the private event\n        // @return {jQuery.Deferred}\n        // @private\n        _exposeAPIEvent: function _exposeAPIEvent() {\n            const args = Array.prototype.slice.call(arguments);\n\n            return this.cancelableTrigger.apply(this, args);\n        },\n\n        // @method _suscribeToInnerEvents subscribes to the inner events, according to the innerToOuterMap parameter, in order to trigger the outer events\n        // @param {Array<String, String, Function>} innerToOuterMap Maps inner events with outer events\n        // @private\n        _suscribeToInnerEvents: function _suscribeToInnerEvents(innerToOuterMap, model) {\n            const self = this;\n\n            _.map(innerToOuterMap, function(innerToOuter: any) {\n                const exposeInnerEvent = function exposeInnerEvent() {\n                    if (!self.hasListeners(innerToOuter.outer)) {\n                        return;\n                    }\n\n                    // remove the model (first argument) and keeps the first place of the array\n                    let args = Array.prototype.slice.call(arguments);\n                    args = innerToOuter.normalize ? innerToOuter.normalize.apply(self, args) : args;\n                    args = Utils.deepCopy(args);\n                    // prepend the event name to the arguments array\n                    args = _.isArray(args) ? args : [args];\n                    args.unshift(innerToOuter.outer);\n\n                    _.each(innerToOuter.disableEvents || [], function(event_name) {\n                        self.cancelableDisable(event_name);\n                    });\n                    _.each(innerToOuter.enableEvents || [], function(event_name) {\n                        self.cancelableEnable(event_name);\n                    });\n\n                    return self._exposeAPIEvent.apply(self, args);\n                };\n\n                model.cancelableOn(innerToOuter.inner, exposeInnerEvent);\n\n                model.on('destroy', function cancelOffInnerEvent() {\n                    model.cancelableOff(innerToOuter.inner, exposeInnerEvent);\n                });\n            });\n        }\n    },\n    SCCancelableEvents\n);\n\n// @method on alias for @?method SC.SC.CancelableEvents.cancelableOn @extlayer @public\nSCBaseComponent.on = SCBaseComponent.cancelableOn;\n// @method off alias for @?method SC.SC.CancelableEvents.cancelableOff @extlayer @public\nSCBaseComponent.off = SCBaseComponent.cancelableOff;\n\nSCBaseComponent.ERROR_IDENTIFIERS = SCComponentErrors;\n\nexport { SCBaseComponent };\n"]}